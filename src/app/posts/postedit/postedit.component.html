<div class="card m-2">
  <h2>Post Edit</h2>

<form [formGroup]="postForm" (ngSubmit)="onSubmit()">
  <div class="field grid">
    <label for="post_title" class="col-fixed" style="width:100px">Post Title:</label>
    <input id="post_title" formControlName="post_title" type="text" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary">
  </div>
  <div class="field grid">
    <label for="post_content" class="col-fixed" style="width:100px">Post Content:</label>
    <p-editor formControlName="post_content" [style]="{ height: '320px', width: '100%' }" ></p-editor>

   
  </div>
  <div class="field grid">
    <label for="post_content" class="col-fixed" style="width:100px">Post Categories:</label>
    <p-listbox 
    [options]="category_list" 
    formControlName="selectedCategory" 
    optionLabel="name" 
    [multiple]="true" 
    styleClass="w-full">
  </p-listbox>

    </div>
           <!-- Image preview - show if editing a post with existing image -->
           <div *ngIf="featureImageUrl" class="mb-3">
            <img [src]="featureImageUrl" alt="Feature image" class="max-w-full border-round" style="max-height: 200px;">
            <button 
              pButton 
              type="button" 
              icon="pi pi-trash" 
              class="p-button-rounded p-button-danger p-button-sm ml-2" 
             
              pTooltip="Remove image">
            </button>
          </div>

    <div class="field grid">
      <label for="select_status" class="col-fixed" style="width:100px">Select status:</label>
      <p-dropdown 
          formControlName="select_status" 
          [options]="post_status" 
          optionLabel="name" 
          placeholder="Select Status"
          styleClass="w-full">
      </p-dropdown>
      </div>

  <input type="hidden" formControlName="post_id">
    <p-button type="submit" label="Submit" />

  </form>

</div>
