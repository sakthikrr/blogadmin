import{A as Os,C as xs,D as Vs,E as Ls,F as Ms,G as Fs,H as ar,a as vs,b as ws,c as T,d as rr,e as Es,f as Ts,g as ir,h as sr,i as or,j as As,k as bs,l as en,m as tn,n as Ss,o as we,p as nn,q as rn,r as sn,s as on,t as Rs,u as je,v as Ps,w as Cs,x as Ds,y as ks,z as Ns}from"./chunk-CIUDEKMW.js";var Us=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=nn({type:r,selectors:[["app-welcome"]],decls:2,vars:0,template:function(s,a){s&1&&(Ps(0,"p"),ks(1,"welcome works!"),Cs())}})}}return r})();var $a=[{path:"",component:Us},{path:"posts",loadChildren:()=>import("./chunk-BLQ2PPEI.js").then(r=>r.PostsModule)}],Bs=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=rn({type:r})}static{this.\u0275inj=en({imports:[ar.forRoot($a),ar]})}}return r})();var qs=(()=>{class r{constructor(){this.title="blogadmin"}static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275cmp=nn({type:r,selectors:[["app-root"]],decls:2,vars:0,consts:[["label","Submit"]],template:function(s,a){s&1&&Ds(0,"p-button",0)(1,"router-outlet")},dependencies:[Fs,Ls]})}}return r})();var js=function(r){let e=[],n=0;for(let s=0;s<r.length;s++){let a=r.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},ja=function(r){let e=[],n=0,s=0;for(;n<r.length;){let a=r[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){let u=r[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){let u=r[n++],f=r[n++],v=r[n++],w=((a&7)<<18|(u&63)<<12|(f&63)<<6|v&63)-65536;e[s++]=String.fromCharCode(55296+(w>>10)),e[s++]=String.fromCharCode(56320+(w&1023))}else{let u=r[n++],f=r[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|f&63)}}return e.join("")},zs={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<r.length;a+=3){let u=r[a],f=a+1<r.length,v=f?r[a+1]:0,w=a+2<r.length,A=w?r[a+2]:0,S=u>>2,V=(u&3)<<4|v>>4,k=(v&15)<<2|A>>6,U=A&63;w||(U=64,f||(k=64)),s.push(n[S],n[V],n[k],n[U])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(js(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ja(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<r.length;){let u=n[r.charAt(a++)],v=a<r.length?n[r.charAt(a)]:0;++a;let A=a<r.length?n[r.charAt(a)]:64;++a;let V=a<r.length?n[r.charAt(a)]:64;if(++a,u==null||v==null||A==null||V==null)throw new ur;let k=u<<2|v>>4;if(s.push(k),A!==64){let U=v<<4&240|A>>2;if(s.push(U),V!==64){let P=A<<6&192|V;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}},ur=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},za=function(r){let e=js(r);return zs.encodeByteArray(e,!0)},It=function(r){return za(r).replace(/\./g,"")},hr=function(r){try{return zs.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ga(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Wa=()=>Ga().__FIREBASE_DEFAULTS__,Ka=()=>{if(typeof process>"u"||typeof process.env>"u")return;let r=process.env.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Ha=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=r&&hr(r[1]);return e&&JSON.parse(e)},dr=()=>{try{return Wa()||Ka()||Ha()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Gs=r=>{var e,n;return(n=(e=dr())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Ws=r=>{let e=Gs(r);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},fr=()=>{var r;return(r=dr())===null||r===void 0?void 0:r.config},Ks=r=>{var e;return(e=dr())===null||e===void 0?void 0:e[`_${r}`]};var cn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}};function Hs(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},s=e||"demo-project",a=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[It(JSON.stringify(n)),It(JSON.stringify(f)),""].join(".")}function re(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qs(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(re())}function Js(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Ys(){let r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xs(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pr(){try{return typeof indexedDB=="object"}catch{return!1}}function Zs(){return new Promise((r,e)=>{try{let n=!0,s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}var Qa="FirebaseError",ne=class r extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Qa,Object.setPrototypeOf(this,r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pe.prototype.create)}},pe=class{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){let s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],f=u?Ja(u,s):"Error",v=`${this.serviceName}: ${f} (${a}).`;return new ne(a,v,s)}};function Ja(r,e){return r.replace(Ya,(n,s)=>{let a=e[s];return a!=null?String(a):`<${s}?>`})}var Ya=/\{\$([^}]+)}/g;function ze(r,e){if(r===e)return!0;let n=Object.keys(r),s=Object.keys(e);for(let a of n){if(!s.includes(a))return!1;let u=r[a],f=e[a];if($s(u)&&$s(f)){if(!ze(u,f))return!1}else if(u!==f)return!1}for(let a of s)if(!n.includes(a))return!1;return!0}function $s(r){return r!==null&&typeof r=="object"}function mr(r){let e=[];for(let[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function eo(r,e){let n=new lr(r,e);return n.subscribe.bind(n)}var lr=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let a;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");Xa(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:s},a.next===void 0&&(a.next=cr),a.error===void 0&&(a.error=cr),a.complete===void 0&&(a.complete=cr);let u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Xa(r,e){if(typeof r!="object"||r===null)return!1;for(let n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function cr(){}var ph=4*60*60*1e3;function Ge(r){return r&&r._delegate?r._delegate:r}var ie=class{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Oe="[DEFAULT]";var gr=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let s=new cn;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{let a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let s=this.normalizeInstanceIdentifier(e?.identifier),a=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ec(e))try{this.getOrInitializeService({instanceIdentifier:Oe})}catch{}for(let[n,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(n);try{let u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Oe){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return T(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Oe){return this.instances.has(e)}getOptions(e=Oe){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(let[u,f]of this.instancesDeferred.entries()){let v=this.normalizeInstanceIdentifier(u);s===v&&f.resolve(a)}return a}onInit(e,n){var s;let a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);let f=this.instances.get(a);return f&&e(f,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){let s=this.onInitCallbacks.get(n);if(s)for(let a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Za(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oe){return this.component?this.component.multipleInstances?e:Oe:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Za(r){return r===Oe?void 0:r}function ec(r){return r.instantiationMode==="EAGER"}var un=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new gr(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var tc=[],C=function(r){return r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT",r}(C||{}),nc={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},rc=C.INFO,ic={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},sc=(r,e,...n)=>{if(e<r.logLevel)return;let s=new Date().toISOString(),a=ic[e];if(a)console[a](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ee=class{constructor(e){this.name=e,this._logLevel=rc,this._logHandler=sc,this._userLogHandler=null,tc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var oc=(r,e)=>e.some(n=>r instanceof n),to,no;function ac(){return to||(to=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cc(){return no||(no=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var ro=new WeakMap,yr=new WeakMap,io=new WeakMap,_r=new WeakMap,vr=new WeakMap;function uc(r){let e=new Promise((n,s)=>{let a=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ae(r.result)),a()},f=()=>{s(r.error),a()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&ro.set(n,r)}).catch(()=>{}),vr.set(e,r),e}function lc(r){if(yr.has(r))return;let e=new Promise((n,s)=>{let a=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),a()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});yr.set(r,e)}var Ir={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return yr.get(r);if(e==="objectStoreNames")return r.objectStoreNames||io.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ae(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function so(r){Ir=r(Ir)}function hc(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let s=r.call(ln(this),e,...n);return io.set(s,e.sort?e.sort():[e]),ae(s)}:cc().includes(r)?function(...e){return r.apply(ln(this),e),ae(ro.get(this))}:function(...e){return ae(r.apply(ln(this),e))}}function dc(r){return typeof r=="function"?hc(r):(r instanceof IDBTransaction&&lc(r),oc(r,ac())?new Proxy(r,Ir):r)}function ae(r){if(r instanceof IDBRequest)return uc(r);if(_r.has(r))return _r.get(r);let e=dc(r);return e!==r&&(_r.set(r,e),vr.set(e,r)),e}var ln=r=>vr.get(r);function ao(r,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){let f=indexedDB.open(r,e),v=ae(f);return s&&f.addEventListener("upgradeneeded",w=>{s(ae(f.result),w.oldVersion,w.newVersion,ae(f.transaction),w)}),n&&f.addEventListener("blocked",w=>n(w.oldVersion,w.newVersion,w)),v.then(w=>{u&&w.addEventListener("close",()=>u()),a&&w.addEventListener("versionchange",A=>a(A.oldVersion,A.newVersion,A))}).catch(()=>{}),v}var fc=["get","getKey","getAll","getAllKeys","count"],pc=["put","add","delete","clear"],wr=new Map;function oo(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(wr.get(e))return wr.get(e);let n=e.replace(/FromIndex$/,""),s=e!==n,a=pc.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||fc.includes(n)))return;let u=function(f,...v){return T(this,null,function*(){let w=this.transaction(f,a?"readwrite":"readonly"),A=w.store;return s&&(A=A.index(v.shift())),(yield Promise.all([A[n](...v),a&&w.done]))[0]})};return wr.set(e,u),u}so(r=>ws(vs({},r),{get:(e,n,s)=>oo(e,n)||r.get(e,n,s),has:(e,n)=>!!oo(e,n)||r.has(e,n)}));var Tr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mc(n)){let s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}};function mc(r){let e=r.getComponent();return e?.type==="VERSION"}var Ar="@firebase/app",co="0.10.11";var me=new Ee("@firebase/app"),gc="@firebase/app-compat",_c="@firebase/analytics-compat",yc="@firebase/analytics",Ic="@firebase/app-check-compat",vc="@firebase/app-check",wc="@firebase/auth",Ec="@firebase/auth-compat",Tc="@firebase/database",Ac="@firebase/database-compat",bc="@firebase/functions",Sc="@firebase/functions-compat",Rc="@firebase/installations",Pc="@firebase/installations-compat",Cc="@firebase/messaging",Dc="@firebase/messaging-compat",kc="@firebase/performance",Nc="@firebase/performance-compat",Oc="@firebase/remote-config",xc="@firebase/remote-config-compat",Vc="@firebase/storage",Lc="@firebase/storage-compat",Mc="@firebase/firestore",Fc="@firebase/vertexai-preview",Uc="@firebase/firestore-compat",Bc="firebase",qc="10.13.2";var br="[DEFAULT]",$c={[Ar]:"fire-core",[gc]:"fire-core-compat",[yc]:"fire-analytics",[_c]:"fire-analytics-compat",[vc]:"fire-app-check",[Ic]:"fire-app-check-compat",[wc]:"fire-auth",[Ec]:"fire-auth-compat",[Tc]:"fire-rtdb",[Ac]:"fire-rtdb-compat",[bc]:"fire-fn",[Sc]:"fire-fn-compat",[Rc]:"fire-iid",[Pc]:"fire-iid-compat",[Cc]:"fire-fcm",[Dc]:"fire-fcm-compat",[kc]:"fire-perf",[Nc]:"fire-perf-compat",[Oc]:"fire-rc",[xc]:"fire-rc-compat",[Vc]:"fire-gcs",[Lc]:"fire-gcs-compat",[Mc]:"fire-fst",[Uc]:"fire-fst-compat",[Fc]:"fire-vertex","fire-js":"fire-js",[Bc]:"fire-js-all"};var vt=new Map,jc=new Map,Sr=new Map;function uo(r,e){try{r.container.addComponent(e)}catch(n){me.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Ae(r){let e=r.name;if(Sr.has(e))return me.debug(`There were multiple attempts to register component ${e}.`),!1;Sr.set(e,r);for(let n of vt.values())uo(n,r);for(let n of jc.values())uo(n,r);return!0}function Dr(r,e){let n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function We(r){return r.settings!==void 0}var zc={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Te=new pe("app","Firebase",zc);var Rr=class{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ie("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Te.create("app-deleted",{appName:this._name})}};var Ke=qc;function kr(r,e={}){let n=r;typeof e!="object"&&(e={name:e});let s=Object.assign({name:br,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Te.create("bad-app-name",{appName:String(a)});if(n||(n=fr()),!n)throw Te.create("no-options");let u=vt.get(a);if(u){if(ze(n,u.options)&&ze(s,u.config))return u;throw Te.create("duplicate-app",{appName:a})}let f=new un(a);for(let w of Sr.values())f.addComponent(w);let v=new Rr(n,s,f);return vt.set(a,v),v}function Et(r=br){let e=vt.get(r);if(!e&&r===br&&fr())return kr();if(!e)throw Te.create("no-app",{appName:r});return e}function hn(){return Array.from(vt.values())}function B(r,e,n){var s;let a=(s=$c[r])!==null&&s!==void 0?s:r;n&&(a+=`-${n}`);let u=a.match(/\s|\//),f=e.match(/\s|\//);if(u||f){let v=[`Unable to register library "${a}" with version "${e}":`];u&&v.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&f&&v.push("and"),f&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),me.warn(v.join(" "));return}Ae(new ie(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}var Gc="firebase-heartbeat-database",Wc=1,wt="firebase-heartbeat-store",Er=null;function po(){return Er||(Er=ao(Gc,Wc,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(wt)}catch(n){console.warn(n)}}}}).catch(r=>{throw Te.create("idb-open",{originalErrorMessage:r.message})})),Er}function Kc(r){return T(this,null,function*(){try{let n=(yield po()).transaction(wt),s=yield n.objectStore(wt).get(mo(r));return yield n.done,s}catch(e){if(e instanceof ne)me.warn(e.message);else{let n=Te.create("idb-get",{originalErrorMessage:e?.message});me.warn(n.message)}}})}function lo(r,e){return T(this,null,function*(){try{let s=(yield po()).transaction(wt,"readwrite");yield s.objectStore(wt).put(e,mo(r)),yield s.done}catch(n){if(n instanceof ne)me.warn(n.message);else{let s=Te.create("idb-set",{originalErrorMessage:n?.message});me.warn(s.message)}}})}function mo(r){return`${r.name}!${r.options.appId}`}var Hc=1024,Qc=30*24*60*60*1e3,Pr=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Cr(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}triggerHeartbeat(){return T(this,null,function*(){var e,n;try{let a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=ho();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{let v=new Date(f.date).valueOf();return Date.now()-v<=Qc}),this._storage.overwrite(this._heartbeatsCache))}catch(s){me.warn(s)}})}getHeartbeatsHeader(){return T(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=ho(),{heartbeatsToSend:s,unsentEntries:a}=Jc(this._heartbeatsCache.heartbeats),u=It(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return me.warn(n),""}})}};function ho(){return new Date().toISOString().substring(0,10)}function Jc(r,e=Hc){let n=[],s=r.slice();for(let a of r){let u=n.find(f=>f.agent===a.agent);if(u){if(u.dates.push(a.date),fo(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),fo(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}var Cr=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return T(this,null,function*(){return pr()?Zs().then(()=>!0).catch(()=>!1):!1})}read(){return T(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Kc(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let a=yield this.read();return lo(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return T(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let a=yield this.read();return lo(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return})}};function fo(r){return It(JSON.stringify({version:2,heartbeats:r})).length}function Yc(r){Ae(new ie("platform-logger",e=>new Tr(e),"PRIVATE")),Ae(new ie("heartbeat",e=>new Pr(e),"PRIVATE")),B(Ar,co,r),B(Ar,co,"esm2017"),B("fire-js","")}Yc("");var Xc="firebase",Zc="10.13.2";B(Xc,Zc,"app");var Qe=new Ns("ANGULARFIRE2_VERSION");function Or(r,e,n){if(e){if(e.length===1)return e[0];let u=e.filter(f=>f.app===n);if(u.length===1)return u[0]}return n.container.getProvider(r).getImmediate({optional:!0})}var At=(r,e)=>{let n=e?[e]:hn(),s=[];return n.forEach(a=>{a.container.getProvider(r).instances.forEach(f=>{s.includes(f)||s.push(f)})}),s},Tt=class{constructor(){return At(eu)}},eu="app-check";function He(){}var dn=class{zone;delegate;constructor(e,n=Ts){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,s){let a=this.zone,u=function(f){a.runGuarded(()=>{e.apply(this,[f])})};return this.delegate.schedule(u,n,s)}},Nr=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let s=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He)),n.pipe(As({next:s,complete:s,error:s})).subscribe(e).add(s)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},bt=(()=>{class r{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new dn(Zone.current)),this.insideAngular=n.run(()=>new dn(Zone.current,Es)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(s){return new(s||r)(Ss(je))};static \u0275prov=bs({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function fn(){let r=globalThis.\u0275AngularFireScheduler;if(!r)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return r}function tu(r){return fn().ngZone.runOutsideAngular(()=>r())}function xe(r){return fn().ngZone.run(()=>r())}function nu(r){return ru(fn())(r)}function ru(r){return function(n){return n=n.lift(new Nr(r.ngZone)),n.pipe(or(r.outsideAngular),sr(r.insideAngular))}}var iu=(r,e)=>function(){let s=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),xe(()=>r.apply(void 0,s))},St=(r,e)=>function(){let n,s=arguments;for(let u=0;u<arguments.length;u++)typeof s[u]=="function"&&(e&&(n||=xe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",He,{},He,He))),s[u]=iu(s[u],n));let a=tu(()=>r.apply(this,s));if(!e)if(a instanceof rr){let u=fn();return a.pipe(or(u.outsideAngular),sr(u.insideAngular))}else return xe(()=>a);return a instanceof rr?a.pipe(nu):a instanceof Promise?xe(()=>new Promise((u,f)=>a.then(v=>xe(()=>u(v)),v=>xe(()=>f(v))))):typeof a=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),a.apply(this,arguments)}:xe(()=>a)};var Ve=class{constructor(e){return e}},Rt=class{constructor(){return hn()}};function su(r){return r&&r.length===1?r[0]:new Ve(Et())}var xr=new tn("angularfire2._apps"),ou={provide:Ve,useFactory:su,deps:[[new we,xr]]},au={provide:Rt,deps:[[new we,xr]]};function cu(r){return(e,n)=>{let s=n.get(Rs);B("angularfire",Qe.full,"core"),B("angularfire",Qe.full,"app"),B("angular",Os.full,s.toString());let a=e.runOutsideAngular(()=>r(n));return new Ve(a)}}function go(r,...e){return sn([ou,au,{provide:xr,useFactory:cu(r),multi:!0,deps:[je,on,bt,...e]}])}var _o=St(kr,!0);function bo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var So=bo,Ro=new pe("auth","Firebase",bo());var _n=new Ee("@firebase/auth");function lu(r,...e){_n.logLevel<=C.WARN&&_n.warn(`Auth (${Ke}): ${r}`,...e)}function mn(r,...e){_n.logLevel<=C.ERROR&&_n.error(`Auth (${Ke}): ${r}`,...e)}function yo(r,...e){throw Wr(r,...e)}function Gr(r,...e){return Wr(r,...e)}function Po(r,e,n){let s=Object.assign(Object.assign({},So()),{[e]:n});return new pe("auth","Firebase",s).create(e,{appName:r.name})}function gn(r){return Po(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wr(r,...e){if(typeof r!="string"){let n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return Ro.create(r,...e)}function D(r,e,...n){if(!r)throw Wr(e,...n)}function Pt(r){let e="INTERNAL ASSERTION FAILED: "+r;throw mn(e),new Error(e)}function yn(r,e){r||Pt(e)}function hu(){return Io()==="http:"||Io()==="https:"}function Io(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}function du(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hu()||Ys()||"connection"in navigator)?navigator.onLine:!0}function fu(){if(typeof navigator>"u")return null;let r=navigator;return r.languages&&r.languages[0]||r.language||null}var Me=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,yn(n>e,"Short delay should be less than long delay!"),this.isMobile=Qs()||Xs()}get(){return du()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function pu(r,e){yn(r.emulator,"Emulator should always be set here");let{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var In=class{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Pt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Pt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Pt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var gu=new Me(3e4,6e4);function Co(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}function Tn(u,f,v,w){return T(this,arguments,function*(r,e,n,s,a={}){return Do(r,a,()=>T(this,null,function*(){let A={},S={};s&&(e==="GET"?S=s:A={body:JSON.stringify(s)});let V=mr(Object.assign({key:r.config.apiKey},S)).slice(1),k=yield r._getAdditionalHeaders();k["Content-Type"]="application/json",r.languageCode&&(k["X-Firebase-Locale"]=r.languageCode);let U=Object.assign({method:e,headers:k},A);return Js()||(U.referrerPolicy="no-referrer"),In.fetch()(ko(r,r.config.apiHost,n,V),U)}))})}function Do(r,e,n){return T(this,null,function*(){r._canInitEmulator=!1;let s=Object.assign(Object.assign({},mu),e);try{let a=new Mr(r),u=yield Promise.race([n(),a.promise]);a.clearNetworkTimeout();let f=yield u.json();if("needConfirmation"in f)throw pn(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{let v=u.ok?f.errorMessage:f.error.message,[w,A]=v.split(" : ");if(w==="FEDERATED_USER_ID_ALREADY_LINKED")throw pn(r,"credential-already-in-use",f);if(w==="EMAIL_EXISTS")throw pn(r,"email-already-in-use",f);if(w==="USER_DISABLED")throw pn(r,"user-disabled",f);let S=s[w]||w.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw Po(r,S,A);yo(r,S)}}catch(a){if(a instanceof ne)throw a;yo(r,"network-request-failed",{message:String(a)})}})}function ko(r,e,n,s){let a=`${e}${n}?${s}`;return r.config.emulator?pu(r.config,a):`${r.config.apiScheme}://${a}`}var Mr=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Gr(this.auth,"network-request-failed")),gu.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function pn(r,e,n){let s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);let a=Gr(r,e,s);return a.customData._tokenResponse=n,a}function _u(r,e){return T(this,null,function*(){return Tn(r,"POST","/v1/accounts:delete",e)})}function No(r,e){return T(this,null,function*(){return Tn(r,"POST","/v1/accounts:lookup",e)})}function Ct(r){if(r)try{let e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Kr(r,e=!1){return T(this,null,function*(){let n=Ge(r),s=yield n.getIdToken(e),a=Oo(s);D(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");let u=typeof a.firebase=="object"?a.firebase:void 0,f=u?.sign_in_provider;return{claims:a,token:s,authTime:Ct(Vr(a.auth_time)),issuedAtTime:Ct(Vr(a.iat)),expirationTime:Ct(Vr(a.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}})}function Vr(r){return Number(r)*1e3}function Oo(r){let[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mn("JWT malformed, contained fewer than 3 sections"),null;try{let a=hr(n);return a?JSON.parse(a):(mn("Failed to decode base64 JWT payload"),null)}catch(a){return mn("Caught error parsing JWT payload as JSON",a?.toString()),null}}function vo(r){let e=Oo(r);return D(e,"internal-error"),D(typeof e.exp<"u","internal-error"),D(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Fr(r,e,n=!1){return T(this,null,function*(){if(n)return e;try{return yield e}catch(s){throw s instanceof ne&&yu(s)&&r.auth.currentUser===r&&(yield r.auth.signOut()),s}})}function yu({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}var Ur=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;let a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>T(this,null,function*(){yield this.iteration()}),n)}iteration(){return T(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var kt=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ct(this.lastLoginAt),this.creationTime=Ct(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function vn(r){return T(this,null,function*(){var e;let n=r.auth,s=yield r.getIdToken(),a=yield Fr(r,No(n,{idToken:s}));D(a?.users.length,n,"internal-error");let u=a.users[0];r._notifyReloadListener(u);let f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?xo(u.providerUserInfo):[],v=Iu(r.providerData,f),w=r.isAnonymous,A=!(r.email&&u.passwordHash)&&!v?.length,S=w?A:!1,V={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:v,metadata:new kt(u.createdAt,u.lastLoginAt),isAnonymous:S};Object.assign(r,V)})}function Hr(r){return T(this,null,function*(){let e=Ge(r);yield vn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Iu(r,e){return[...r.filter(s=>!e.some(a=>a.providerId===s.providerId)),...e]}function xo(r){return r.map(e=>{var{providerId:n}=e,s=ir(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}function vu(r,e){return T(this,null,function*(){let n=yield Do(r,{},()=>T(this,null,function*(){let s=mr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:u}=r.config,f=ko(r,a,"/v1/token",`key=${u}`),v=yield r._getAdditionalHeaders();return v["Content-Type"]="application/x-www-form-urlencoded",In.fetch()(f,{method:"POST",headers:v,body:s})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function wu(r,e){return T(this,null,function*(){return Tn(r,"POST","/v2/accounts:revokeToken",Co(r,e))})}var Dt=class r{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){D(e.idToken,"internal-error"),D(typeof e.idToken<"u","internal-error"),D(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){D(e.length!==0,"internal-error");let n=vo(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return T(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(D(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return T(this,null,function*(){let{accessToken:s,refreshToken:a,expiresIn:u}=yield vu(e,n);this.updateTokensAndExpiration(s,a,Number(u))})}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){let{refreshToken:s,accessToken:a,expirationTime:u}=n,f=new r;return s&&(D(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),a&&(D(typeof a=="string","internal-error",{appName:e}),f.accessToken=a),u&&(D(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new r,this.toJSON())}_performRefresh(){return Pt("not implemented")}};function be(r,e){D(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}var Nt=class r{constructor(e){var{uid:n,auth:s,stsTokenManager:a}=e,u=ir(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ur(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new kt(u.createdAt||void 0,u.lastLoginAt||void 0)}getIdToken(e){return T(this,null,function*(){let n=yield Fr(this,this.stsTokenManager.getToken(this.auth,e));return D(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Kr(this,e)}reload(){return Hr(this)}_assign(e){this!==e&&(D(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new r(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return T(this,null,function*(){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&(yield vn(this)),yield this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)})}delete(){return T(this,null,function*(){if(We(this.auth.app))return Promise.reject(gn(this.auth));let e=yield this.getIdToken();return yield Fr(this,_u(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,a,u,f,v,w,A,S;let V=(s=n.displayName)!==null&&s!==void 0?s:void 0,k=(a=n.email)!==null&&a!==void 0?a:void 0,U=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(f=n.photoURL)!==null&&f!==void 0?f:void 0,M=(v=n.tenantId)!==null&&v!==void 0?v:void 0,x=(w=n._redirectEventId)!==null&&w!==void 0?w:void 0,le=(A=n.createdAt)!==null&&A!==void 0?A:void 0,Z=(S=n.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:z,emailVerified:se,isAnonymous:Pe,providerData:Y,stsTokenManager:_}=n;D(z&&_,e,"internal-error");let l=Dt.fromJSON(this.name,_);D(typeof z=="string",e,"internal-error"),be(V,e.name),be(k,e.name),D(typeof se=="boolean",e,"internal-error"),D(typeof Pe=="boolean",e,"internal-error"),be(U,e.name),be(P,e.name),be(M,e.name),be(x,e.name),be(le,e.name),be(Z,e.name);let d=new r({uid:z,auth:e,email:k,emailVerified:se,displayName:V,isAnonymous:Pe,photoURL:P,phoneNumber:U,tenantId:M,stsTokenManager:l,createdAt:le,lastLoginAt:Z});return Y&&Array.isArray(Y)&&(d.providerData=Y.map(p=>Object.assign({},p))),x&&(d._redirectEventId=x),d}static _fromIdTokenResponse(e,n,s=!1){return T(this,null,function*(){let a=new Dt;a.updateFromServerResponse(n);let u=new r({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:s});return yield vn(u),u})}static _fromGetAccountInfoResponse(e,n,s){return T(this,null,function*(){let a=n.users[0];D(a.localId!==void 0,"internal-error");let u=a.providerUserInfo!==void 0?xo(a.providerUserInfo):[],f=!(a.email&&a.passwordHash)&&!u?.length,v=new Dt;v.updateFromIdToken(s);let w=new r({uid:a.localId,auth:e,stsTokenManager:v,isAnonymous:f}),A={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new kt(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!u?.length};return Object.assign(w,A),w})}};var wo=new Map;function Le(r){yn(r instanceof Function,"Expected a class definition");let e=wo.get(r);return e?(yn(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,wo.set(r,e),e)}var Eu=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return T(this,null,function*(){return!0})}_set(n,s){return T(this,null,function*(){this.storage[n]=s})}_get(n){return T(this,null,function*(){let s=this.storage[n];return s===void 0?null:s})}_remove(n){return T(this,null,function*(){delete this.storage[n]})}_addListener(n,s){}_removeListener(n,s){}}return r.type="NONE",r})(),Br=Eu;function Lr(r,e,n){return`firebase:${r}:${e}:${n}`}var wn=class r{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;let{config:a,name:u}=this.auth;this.fullUserKey=Lr(this.userKey,a.apiKey,u),this.fullPersistenceKey=Lr("persistence",a.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return T(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Nt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return T(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,s="authUser"){return T(this,null,function*(){if(!n.length)return new r(Le(Br),e,s);let a=(yield Promise.all(n.map(A=>T(this,null,function*(){if(yield A._isAvailable())return A})))).filter(A=>A),u=a[0]||Le(Br),f=Lr(s,e.config.apiKey,e.name),v=null;for(let A of n)try{let S=yield A._get(f);if(S){let V=Nt._fromJSON(e,S);A!==u&&(v=V),u=A;break}}catch{}let w=a.filter(A=>A._shouldAllowMigration);return!u._shouldAllowMigration||!w.length?new r(u,e,s):(u=w[0],v&&(yield u._set(f,v.toJSON())),yield Promise.all(n.map(A=>T(this,null,function*(){if(A!==u)try{yield A._remove(f)}catch{}}))),new r(u,e,s))})}};function Eo(r){let e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Su(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Tu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Pu(e))return"Blackberry";if(Cu(e))return"Webos";if(Au(e))return"Safari";if((e.includes("chrome/")||bu(e))&&!e.includes("edge/"))return"Chrome";if(Ru(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Tu(r=re()){return/firefox\//i.test(r)}function Au(r=re()){let e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bu(r=re()){return/crios\//i.test(r)}function Su(r=re()){return/iemobile/i.test(r)}function Ru(r=re()){return/android/i.test(r)}function Pu(r=re()){return/blackberry/i.test(r)}function Cu(r=re()){return/webos/i.test(r)}function Vo(r,e=[]){let n;switch(r){case"Browser":n=Eo(re());break;case"Worker":n=`${Eo(re())}-${r}`;break;default:n=r}let s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ke}/${s}`}var qr=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let s=u=>new Promise((f,v)=>{try{let w=e(u);f(w)}catch(w){v(w)}});s.onAbort=n,this.queue.push(s);let a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}runMiddleware(e){return T(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let s of this.queue)yield s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(let a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}})}};function Du(n){return T(this,arguments,function*(r,e={}){return Tn(r,"GET","/v2/passwordPolicy",Co(r,e))})}var ku=6,$r=class{constructor(e){var n,s,a,u;let f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:ku,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,a,u,f,v;let w={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,w),this.validatePasswordCharacterOptions(e,w),w.isValid&&(w.isValid=(n=w.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),w.isValid&&(w.isValid=(s=w.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),w.isValid&&(w.isValid=(a=w.containsLowercaseLetter)!==null&&a!==void 0?a:!0),w.isValid&&(w.isValid=(u=w.containsUppercaseLetter)!==null&&u!==void 0?u:!0),w.isValid&&(w.isValid=(f=w.containsNumericCharacter)!==null&&f!==void 0?f:!0),w.isValid&&(w.isValid=(v=w.containsNonAlphanumericCharacter)!==null&&v!==void 0?v:!0),w}validatePasswordLengthOptions(e,n){let s=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let a=0;a<e.length;a++)s=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,a,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}};var jr=class{constructor(e,n,s,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new En(this),this.idTokenSubscription=new En(this),this.beforeStateQueue=new qr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ro,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Le(n)),this._initializationPromise=this.queue(()=>T(this,null,function*(){var s,a;if(!this._deleted&&(this.persistenceManager=yield wn.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return T(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return T(this,null,function*(){try{let n=yield No(this,{idToken:e}),s=yield Nt._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return T(this,null,function*(){var n;if(We(this.app)){let f=this.app.settings.authIdToken;return f?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(v,v))}):this.directlySetCurrentUser(null)}let s=yield this.assertedPersistence.getCurrentUser(),a=s,u=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,v=a?._redirectEventId,w=yield this.tryRedirectSignIn(e);(!f||f===v)&&w?.user&&(a=w.user,u=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(u)try{yield this.beforeStateQueue.runMiddleware(a)}catch(f){a=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return D(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)})}tryRedirectSignIn(e){return T(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return T(this,null,function*(){try{yield vn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=fu()}_delete(){return T(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return T(this,null,function*(){if(We(this.app))return Promise.reject(gn(this));let n=e?Ge(e):null;return n&&D(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return T(this,null,function*(){if(!this._deleted)return e&&D(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>T(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return T(this,null,function*(){return We(this.app)?Promise.reject(gn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return We(this.app)?Promise.reject(gn(this)):this.queue(()=>T(this,null,function*(){yield this.assertedPersistence.setPersistence(Le(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return T(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return T(this,null,function*(){let e=yield Du(this),n=new $r(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pe("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let s=this.onAuthStateChanged(()=>{s(),e()},n)}})}revokeAccessToken(e){return T(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),yield wu(this,s)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return T(this,null,function*(){let s=yield this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return T(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Le(e)||this._popupRedirectResolver;D(n,this,"argument-error"),this.redirectPersistenceManager=yield wn.create(this,[Le(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return T(this,null,function*(){var n,s;return this._isInitialized&&(yield this.queue(()=>T(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return T(this,null,function*(){if(e===this.currentUser)return this.queue(()=>T(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,a){if(this._deleted)return()=>{};let u=typeof n=="function"?n:n.next.bind(n),f=!1,v=this._isInitialized?Promise.resolve():this._initializationPromise;if(D(v,this,"internal-error"),v.then(()=>{f||u(this.currentUser)}),typeof n=="function"){let w=e.addObserver(n,s,a);return()=>{f=!0,w()}}else{let w=e.addObserver(n);return()=>{f=!0,w()}}}directlySetCurrentUser(e){return T(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vo(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return T(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let s=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();s&&(n["X-Firebase-Client"]=s);let a=yield this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n})}_getAppCheckToken(){return T(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&lu(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Nu(r){return Ge(r)}var En=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=eo(n=>this.observer=n)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Ou={loadJS(){return T(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xu(r){Ou=r}function Vu(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Lu(r,e){let n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(Le);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}var hd=Vu("rcb"),dd=new Me(3e4,6e4);var fd=new Me(2e3,1e4);var pd=10*60*1e3;var md=new Me(3e4,6e4);var gd=new Me(5e3,15e3);var _d=encodeURIComponent("fac");var To="@firebase/auth",Ao="1.7.9";var zr=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return T(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Mu(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Fu(r){Ae(new ie("auth",(e,{options:n})=>{let s=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:v}=s.options;D(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});let w={apiKey:f,authDomain:v,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vo(r)},A=new jr(s,a,u,w);return Lu(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ae(new ie("auth-internal",e=>{let n=Nu(e.getProvider("auth").getImmediate());return(s=>new zr(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),B(To,Ao,Mu(r)),B(To,Ao,"esm2017")}var Uu=5*60,yd=Ks("authIdTokenMaxAge")||Uu;function Bu(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}xu({loadJS(r){return new Promise((e,n)=>{let s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=a=>{let u=Gr("internal-error");u.customData=a,n(u)},s.type="text/javascript",s.charset="UTF-8",Bu().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Fu("Browser");var Ul="auth";var An=class{constructor(){return At(Ul)}};var Lo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Mo={};var Qr,Fo;(function(){var r;function e(_,l){function d(){}d.prototype=l.prototype,_.D=l.prototype,_.prototype=new d,_.prototype.constructor=_,_.C=function(p,m,y){for(var h=Array(arguments.length-2),he=2;he<arguments.length;he++)h[he-2]=arguments[he];return l.prototype[m].apply(p,h)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(_,l,d){d||(d=0);var p=Array(16);if(typeof l=="string")for(var m=0;16>m;++m)p[m]=l.charCodeAt(d++)|l.charCodeAt(d++)<<8|l.charCodeAt(d++)<<16|l.charCodeAt(d++)<<24;else for(m=0;16>m;++m)p[m]=l[d++]|l[d++]<<8|l[d++]<<16|l[d++]<<24;l=_.g[0],d=_.g[1],m=_.g[2];var y=_.g[3],h=l+(y^d&(m^y))+p[0]+3614090360&4294967295;l=d+(h<<7&4294967295|h>>>25),h=y+(m^l&(d^m))+p[1]+3905402710&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(d^y&(l^d))+p[2]+606105819&4294967295,m=y+(h<<17&4294967295|h>>>15),h=d+(l^m&(y^l))+p[3]+3250441966&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(y^d&(m^y))+p[4]+4118548399&4294967295,l=d+(h<<7&4294967295|h>>>25),h=y+(m^l&(d^m))+p[5]+1200080426&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(d^y&(l^d))+p[6]+2821735955&4294967295,m=y+(h<<17&4294967295|h>>>15),h=d+(l^m&(y^l))+p[7]+4249261313&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(y^d&(m^y))+p[8]+1770035416&4294967295,l=d+(h<<7&4294967295|h>>>25),h=y+(m^l&(d^m))+p[9]+2336552879&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(d^y&(l^d))+p[10]+4294925233&4294967295,m=y+(h<<17&4294967295|h>>>15),h=d+(l^m&(y^l))+p[11]+2304563134&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(y^d&(m^y))+p[12]+1804603682&4294967295,l=d+(h<<7&4294967295|h>>>25),h=y+(m^l&(d^m))+p[13]+4254626195&4294967295,y=l+(h<<12&4294967295|h>>>20),h=m+(d^y&(l^d))+p[14]+2792965006&4294967295,m=y+(h<<17&4294967295|h>>>15),h=d+(l^m&(y^l))+p[15]+1236535329&4294967295,d=m+(h<<22&4294967295|h>>>10),h=l+(m^y&(d^m))+p[1]+4129170786&4294967295,l=d+(h<<5&4294967295|h>>>27),h=y+(d^m&(l^d))+p[6]+3225465664&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(y^l))+p[11]+643717713&4294967295,m=y+(h<<14&4294967295|h>>>18),h=d+(y^l&(m^y))+p[0]+3921069994&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(d^m))+p[5]+3593408605&4294967295,l=d+(h<<5&4294967295|h>>>27),h=y+(d^m&(l^d))+p[10]+38016083&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(y^l))+p[15]+3634488961&4294967295,m=y+(h<<14&4294967295|h>>>18),h=d+(y^l&(m^y))+p[4]+3889429448&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(d^m))+p[9]+568446438&4294967295,l=d+(h<<5&4294967295|h>>>27),h=y+(d^m&(l^d))+p[14]+3275163606&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(y^l))+p[3]+4107603335&4294967295,m=y+(h<<14&4294967295|h>>>18),h=d+(y^l&(m^y))+p[8]+1163531501&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(m^y&(d^m))+p[13]+2850285829&4294967295,l=d+(h<<5&4294967295|h>>>27),h=y+(d^m&(l^d))+p[2]+4243563512&4294967295,y=l+(h<<9&4294967295|h>>>23),h=m+(l^d&(y^l))+p[7]+1735328473&4294967295,m=y+(h<<14&4294967295|h>>>18),h=d+(y^l&(m^y))+p[12]+2368359562&4294967295,d=m+(h<<20&4294967295|h>>>12),h=l+(d^m^y)+p[5]+4294588738&4294967295,l=d+(h<<4&4294967295|h>>>28),h=y+(l^d^m)+p[8]+2272392833&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^d)+p[11]+1839030562&4294967295,m=y+(h<<16&4294967295|h>>>16),h=d+(m^y^l)+p[14]+4259657740&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^y)+p[1]+2763975236&4294967295,l=d+(h<<4&4294967295|h>>>28),h=y+(l^d^m)+p[4]+1272893353&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^d)+p[7]+4139469664&4294967295,m=y+(h<<16&4294967295|h>>>16),h=d+(m^y^l)+p[10]+3200236656&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^y)+p[13]+681279174&4294967295,l=d+(h<<4&4294967295|h>>>28),h=y+(l^d^m)+p[0]+3936430074&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^d)+p[3]+3572445317&4294967295,m=y+(h<<16&4294967295|h>>>16),h=d+(m^y^l)+p[6]+76029189&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(d^m^y)+p[9]+3654602809&4294967295,l=d+(h<<4&4294967295|h>>>28),h=y+(l^d^m)+p[12]+3873151461&4294967295,y=l+(h<<11&4294967295|h>>>21),h=m+(y^l^d)+p[15]+530742520&4294967295,m=y+(h<<16&4294967295|h>>>16),h=d+(m^y^l)+p[2]+3299628645&4294967295,d=m+(h<<23&4294967295|h>>>9),h=l+(m^(d|~y))+p[0]+4096336452&4294967295,l=d+(h<<6&4294967295|h>>>26),h=y+(d^(l|~m))+p[7]+1126891415&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~d))+p[14]+2878612391&4294967295,m=y+(h<<15&4294967295|h>>>17),h=d+(y^(m|~l))+p[5]+4237533241&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~y))+p[12]+1700485571&4294967295,l=d+(h<<6&4294967295|h>>>26),h=y+(d^(l|~m))+p[3]+2399980690&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~d))+p[10]+4293915773&4294967295,m=y+(h<<15&4294967295|h>>>17),h=d+(y^(m|~l))+p[1]+2240044497&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~y))+p[8]+1873313359&4294967295,l=d+(h<<6&4294967295|h>>>26),h=y+(d^(l|~m))+p[15]+4264355552&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~d))+p[6]+2734768916&4294967295,m=y+(h<<15&4294967295|h>>>17),h=d+(y^(m|~l))+p[13]+1309151649&4294967295,d=m+(h<<21&4294967295|h>>>11),h=l+(m^(d|~y))+p[4]+4149444226&4294967295,l=d+(h<<6&4294967295|h>>>26),h=y+(d^(l|~m))+p[11]+3174756917&4294967295,y=l+(h<<10&4294967295|h>>>22),h=m+(l^(y|~d))+p[2]+718787259&4294967295,m=y+(h<<15&4294967295|h>>>17),h=d+(y^(m|~l))+p[9]+3951481745&4294967295,_.g[0]=_.g[0]+l&4294967295,_.g[1]=_.g[1]+(m+(h<<21&4294967295|h>>>11))&4294967295,_.g[2]=_.g[2]+m&4294967295,_.g[3]=_.g[3]+y&4294967295}s.prototype.u=function(_,l){l===void 0&&(l=_.length);for(var d=l-this.blockSize,p=this.B,m=this.h,y=0;y<l;){if(m==0)for(;y<=d;)a(this,_,y),y+=this.blockSize;if(typeof _=="string"){for(;y<l;)if(p[m++]=_.charCodeAt(y++),m==this.blockSize){a(this,p),m=0;break}}else for(;y<l;)if(p[m++]=_[y++],m==this.blockSize){a(this,p),m=0;break}}this.h=m,this.o+=l},s.prototype.v=function(){var _=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);_[0]=128;for(var l=1;l<_.length-8;++l)_[l]=0;var d=8*this.o;for(l=_.length-8;l<_.length;++l)_[l]=d&255,d/=256;for(this.u(_),_=Array(16),l=d=0;4>l;++l)for(var p=0;32>p;p+=8)_[d++]=this.g[l]>>>p&255;return _};function u(_,l){var d=v;return Object.prototype.hasOwnProperty.call(d,_)?d[_]:d[_]=l(_)}function f(_,l){this.h=l;for(var d=[],p=!0,m=_.length-1;0<=m;m--){var y=_[m]|0;p&&y==l||(d[m]=y,p=!1)}this.g=d}var v={};function w(_){return-128<=_&&128>_?u(_,function(l){return new f([l|0],0>l?-1:0)}):new f([_|0],0>_?-1:0)}function A(_){if(isNaN(_)||!isFinite(_))return V;if(0>_)return x(A(-_));for(var l=[],d=1,p=0;_>=d;p++)l[p]=_/d|0,d*=4294967296;return new f(l,0)}function S(_,l){if(_.length==0)throw Error("number format error: empty string");if(l=l||10,2>l||36<l)throw Error("radix out of range: "+l);if(_.charAt(0)=="-")return x(S(_.substring(1),l));if(0<=_.indexOf("-"))throw Error('number format error: interior "-" character');for(var d=A(Math.pow(l,8)),p=V,m=0;m<_.length;m+=8){var y=Math.min(8,_.length-m),h=parseInt(_.substring(m,m+y),l);8>y?(y=A(Math.pow(l,y)),p=p.j(y).add(A(h))):(p=p.j(d),p=p.add(A(h)))}return p}var V=w(0),k=w(1),U=w(16777216);r=f.prototype,r.m=function(){if(M(this))return-x(this).m();for(var _=0,l=1,d=0;d<this.g.length;d++){var p=this.i(d);_+=(0<=p?p:4294967296+p)*l,l*=4294967296}return _},r.toString=function(_){if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(P(this))return"0";if(M(this))return"-"+x(this).toString(_);for(var l=A(Math.pow(_,6)),d=this,p="";;){var m=se(d,l).g;d=le(d,m.j(l));var y=((0<d.g.length?d.g[0]:d.h)>>>0).toString(_);if(d=m,P(d))return y+p;for(;6>y.length;)y="0"+y;p=y+p}},r.i=function(_){return 0>_?0:_<this.g.length?this.g[_]:this.h};function P(_){if(_.h!=0)return!1;for(var l=0;l<_.g.length;l++)if(_.g[l]!=0)return!1;return!0}function M(_){return _.h==-1}r.l=function(_){return _=le(this,_),M(_)?-1:P(_)?0:1};function x(_){for(var l=_.g.length,d=[],p=0;p<l;p++)d[p]=~_.g[p];return new f(d,~_.h).add(k)}r.abs=function(){return M(this)?x(this):this},r.add=function(_){for(var l=Math.max(this.g.length,_.g.length),d=[],p=0,m=0;m<=l;m++){var y=p+(this.i(m)&65535)+(_.i(m)&65535),h=(y>>>16)+(this.i(m)>>>16)+(_.i(m)>>>16);p=h>>>16,y&=65535,h&=65535,d[m]=h<<16|y}return new f(d,d[d.length-1]&-2147483648?-1:0)};function le(_,l){return _.add(x(l))}r.j=function(_){if(P(this)||P(_))return V;if(M(this))return M(_)?x(this).j(x(_)):x(x(this).j(_));if(M(_))return x(this.j(x(_)));if(0>this.l(U)&&0>_.l(U))return A(this.m()*_.m());for(var l=this.g.length+_.g.length,d=[],p=0;p<2*l;p++)d[p]=0;for(p=0;p<this.g.length;p++)for(var m=0;m<_.g.length;m++){var y=this.i(p)>>>16,h=this.i(p)&65535,he=_.i(m)>>>16,et=_.i(m)&65535;d[2*p+2*m]+=h*et,Z(d,2*p+2*m),d[2*p+2*m+1]+=y*et,Z(d,2*p+2*m+1),d[2*p+2*m+1]+=h*he,Z(d,2*p+2*m+1),d[2*p+2*m+2]+=y*he,Z(d,2*p+2*m+2)}for(p=0;p<l;p++)d[p]=d[2*p+1]<<16|d[2*p];for(p=l;p<2*l;p++)d[p]=0;return new f(d,0)};function Z(_,l){for(;(_[l]&65535)!=_[l];)_[l+1]+=_[l]>>>16,_[l]&=65535,l++}function z(_,l){this.g=_,this.h=l}function se(_,l){if(P(l))throw Error("division by zero");if(P(_))return new z(V,V);if(M(_))return l=se(x(_),l),new z(x(l.g),x(l.h));if(M(l))return l=se(_,x(l)),new z(x(l.g),l.h);if(30<_.g.length){if(M(_)||M(l))throw Error("slowDivide_ only works with positive integers.");for(var d=k,p=l;0>=p.l(_);)d=Pe(d),p=Pe(p);var m=Y(d,1),y=Y(p,1);for(p=Y(p,2),d=Y(d,2);!P(p);){var h=y.add(p);0>=h.l(_)&&(m=m.add(d),y=h),p=Y(p,1),d=Y(d,1)}return l=le(_,m.j(l)),new z(m,l)}for(m=V;0<=_.l(l);){for(d=Math.max(1,Math.floor(_.m()/l.m())),p=Math.ceil(Math.log(d)/Math.LN2),p=48>=p?1:Math.pow(2,p-48),y=A(d),h=y.j(l);M(h)||0<h.l(_);)d-=p,y=A(d),h=y.j(l);P(y)&&(y=k),m=m.add(y),_=le(_,h)}return new z(m,_)}r.A=function(_){return se(this,_).h},r.and=function(_){for(var l=Math.max(this.g.length,_.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)&_.i(p);return new f(d,this.h&_.h)},r.or=function(_){for(var l=Math.max(this.g.length,_.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)|_.i(p);return new f(d,this.h|_.h)},r.xor=function(_){for(var l=Math.max(this.g.length,_.g.length),d=[],p=0;p<l;p++)d[p]=this.i(p)^_.i(p);return new f(d,this.h^_.h)};function Pe(_){for(var l=_.g.length+1,d=[],p=0;p<l;p++)d[p]=_.i(p)<<1|_.i(p-1)>>>31;return new f(d,_.h)}function Y(_,l){var d=l>>5;l%=32;for(var p=_.g.length-d,m=[],y=0;y<p;y++)m[y]=0<l?_.i(y+d)>>>l|_.i(y+d+1)<<32-l:_.i(y+d);return new f(m,_.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Fo=Mo.Md5=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=A,f.fromString=S,Qr=Mo.Integer=f}).apply(typeof Lo<"u"?Lo:typeof self<"u"?self:typeof window<"u"?window:{});var bn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ge={};var Uo,Bo,qo,$o,jo,zo,Go,Wo,Ko;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,i,o){return t==Array.prototype||t==Object.prototype||(t[i]=o.value),t};function n(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof bn=="object"&&bn];for(var i=0;i<t.length;++i){var o=t[i];if(o&&o.Math==Math)return o}throw Error("Cannot find global object")}var s=n(this);function a(t,i){if(i)e:{var o=s;t=t.split(".");for(var c=0;c<t.length-1;c++){var g=t[c];if(!(g in o))break e;o=o[g]}t=t[t.length-1],c=o[t],i=i(c),i!=c&&i!=null&&e(o,t,{configurable:!0,writable:!0,value:i})}}function u(t,i){t instanceof String&&(t+="");var o=0,c=!1,g={next:function(){if(!c&&o<t.length){var I=o++;return{value:i(I,t[I]),done:!1}}return c=!0,{done:!0,value:void 0}}};return g[Symbol.iterator]=function(){return g},g}a("Array.prototype.values",function(t){return t||function(){return u(this,function(i,o){return o})}});var f=f||{},v=this||self;function w(t){var i=typeof t;return i=i!="object"?i:t?Array.isArray(t)?"array":i:"null",i=="array"||i=="object"&&typeof t.length=="number"}function A(t){var i=typeof t;return i=="object"&&t!=null||i=="function"}function S(t,i,o){return t.call.apply(t.bind,arguments)}function V(t,i,o){if(!t)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,c),t.apply(i,g)}}return function(){return t.apply(i,arguments)}}function k(t,i,o){return k=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,k.apply(null,arguments)}function U(t,i){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),t.apply(this,c)}}function P(t,i){function o(){}o.prototype=i.prototype,t.aa=i.prototype,t.prototype=new o,t.prototype.constructor=t,t.Qb=function(c,g,I){for(var E=Array(arguments.length-2),N=2;N<arguments.length;N++)E[N-2]=arguments[N];return i.prototype[g].apply(c,E)}}function M(t){let i=t.length;if(0<i){let o=Array(i);for(let c=0;c<i;c++)o[c]=t[c];return o}return[]}function x(t,i){for(let o=1;o<arguments.length;o++){let c=arguments[o];if(w(c)){let g=t.length||0,I=c.length||0;t.length=g+I;for(let E=0;E<I;E++)t[g+E]=c[E]}else t.push(c)}}class le{constructor(i,o){this.i=i,this.j=o,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}function Z(t){return/^[\s\xa0]*$/.test(t)}function z(){var t=v.navigator;return t&&(t=t.userAgent)?t:""}function se(t){return se[" "](t),t}se[" "]=function(){};var Pe=z().indexOf("Gecko")!=-1&&!(z().toLowerCase().indexOf("webkit")!=-1&&z().indexOf("Edge")==-1)&&!(z().indexOf("Trident")!=-1||z().indexOf("MSIE")!=-1)&&z().indexOf("Edge")==-1;function Y(t,i,o){for(let c in t)i.call(o,t[c],c,t)}function _(t,i){for(let o in t)i.call(void 0,t[o],o,t)}function l(t){let i={};for(let o in t)i[o]=t[o];return i}let d="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function p(t,i){let o,c;for(let g=1;g<arguments.length;g++){c=arguments[g];for(o in c)t[o]=c[o];for(let I=0;I<d.length;I++)o=d[I],Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o])}}function m(t){var i=1;t=t.split(":");let o=[];for(;0<i&&t.length;)o.push(t.shift()),i--;return t.length&&o.push(t.join(":")),o}function y(t){v.setTimeout(()=>{throw t},0)}function h(){var t=Nn;let i=null;return t.g&&(i=t.g,t.g=t.g.next,t.g||(t.h=null),i.next=null),i}class he{constructor(){this.h=this.g=null}add(i,o){let c=et.get();c.set(i,o),this.h?this.h.next=c:this.g=c,this.h=c}}var et=new le(()=>new ca,t=>t.reset());class ca{constructor(){this.next=this.g=this.h=null}set(i,o){this.h=i,this.g=o,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,nt=!1,Nn=new he,Ii=()=>{let t=v.Promise.resolve(void 0);tt=()=>{t.then(ua)}};var ua=()=>{for(var t;t=h();){try{t.h.call(t.g)}catch(o){y(o)}var i=et;i.j(t),100>i.h&&(i.h++,t.next=i.g,i.g=t)}nt=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function G(t,i){this.type=t,this.g=this.target=i,this.defaultPrevented=!1}G.prototype.h=function(){this.defaultPrevented=!0};var la=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var t=!1,i=Object.defineProperty({},"passive",{get:function(){t=!0}});try{let o=()=>{};v.addEventListener("test",o,i),v.removeEventListener("test",o,i)}catch{}return t}();function rt(t,i){if(G.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var o=this.type=t.type,c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=i,i=t.relatedTarget){if(Pe){e:{try{se(i.nodeName);var g=!0;break e}catch{}g=!1}g||(i=null)}}else o=="mouseover"?i=t.fromElement:o=="mouseout"&&(i=t.toElement);this.relatedTarget=i,c?(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:ha[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&rt.aa.h.call(this)}}P(rt,G);var ha={2:"touch",3:"pen",4:"mouse"};rt.prototype.h=function(){rt.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var it="closure_listenable_"+(1e6*Math.random()|0),da=0;function fa(t,i,o,c,g){this.listener=t,this.proxy=null,this.src=i,this.type=o,this.capture=!!c,this.ha=g,this.key=++da,this.da=this.fa=!1}function Mt(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Ft(t){this.src=t,this.g={},this.h=0}Ft.prototype.add=function(t,i,o,c,g){var I=t.toString();t=this.g[I],t||(t=this.g[I]=[],this.h++);var E=xn(t,i,c,g);return-1<E?(i=t[E],o||(i.fa=!1)):(i=new fa(i,this.src,I,!!c,g),i.fa=o,t.push(i)),i};function On(t,i){var o=i.type;if(o in t.g){var c=t.g[o],g=Array.prototype.indexOf.call(c,i,void 0),I;(I=0<=g)&&Array.prototype.splice.call(c,g,1),I&&(Mt(i),t.g[o].length==0&&(delete t.g[o],t.h--))}}function xn(t,i,o,c){for(var g=0;g<t.length;++g){var I=t[g];if(!I.da&&I.listener==i&&I.capture==!!o&&I.ha==c)return g}return-1}var Vn="closure_lm_"+(1e6*Math.random()|0),Ln={};function vi(t,i,o,c,g){if(c&&c.once)return Ei(t,i,o,c,g);if(Array.isArray(i)){for(var I=0;I<i.length;I++)vi(t,i[I],o,c,g);return null}return o=Bn(o),t&&t[it]?t.K(i,o,A(c)?!!c.capture:!!c,g):wi(t,i,o,!1,c,g)}function wi(t,i,o,c,g,I){if(!i)throw Error("Invalid event type");var E=A(g)?!!g.capture:!!g,N=Fn(t);if(N||(t[Vn]=N=new Ft(t)),o=N.add(i,o,c,E,I),o.proxy)return o;if(c=pa(),o.proxy=c,c.src=t,c.listener=o,t.addEventListener)la||(g=E),g===void 0&&(g=!1),t.addEventListener(i.toString(),c,g);else if(t.attachEvent)t.attachEvent(Ai(i.toString()),c);else if(t.addListener&&t.removeListener)t.addListener(c);else throw Error("addEventListener and attachEvent are unavailable.");return o}function pa(){function t(o){return i.call(t.src,t.listener,o)}let i=ma;return t}function Ei(t,i,o,c,g){if(Array.isArray(i)){for(var I=0;I<i.length;I++)Ei(t,i[I],o,c,g);return null}return o=Bn(o),t&&t[it]?t.L(i,o,A(c)?!!c.capture:!!c,g):wi(t,i,o,!0,c,g)}function Ti(t,i,o,c,g){if(Array.isArray(i))for(var I=0;I<i.length;I++)Ti(t,i[I],o,c,g);else c=A(c)?!!c.capture:!!c,o=Bn(o),t&&t[it]?(t=t.i,i=String(i).toString(),i in t.g&&(I=t.g[i],o=xn(I,o,c,g),-1<o&&(Mt(I[o]),Array.prototype.splice.call(I,o,1),I.length==0&&(delete t.g[i],t.h--)))):t&&(t=Fn(t))&&(i=t.g[i.toString()],t=-1,i&&(t=xn(i,o,c,g)),(o=-1<t?i[t]:null)&&Mn(o))}function Mn(t){if(typeof t!="number"&&t&&!t.da){var i=t.src;if(i&&i[it])On(i.i,t);else{var o=t.type,c=t.proxy;i.removeEventListener?i.removeEventListener(o,c,t.capture):i.detachEvent?i.detachEvent(Ai(o),c):i.addListener&&i.removeListener&&i.removeListener(c),(o=Fn(i))?(On(o,t),o.h==0&&(o.src=null,i[Vn]=null)):Mt(t)}}}function Ai(t){return t in Ln?Ln[t]:Ln[t]="on"+t}function ma(t,i){if(t.da)t=!0;else{i=new rt(i,this);var o=t.listener,c=t.ha||t.src;t.fa&&Mn(t),t=o.call(c,i)}return t}function Fn(t){return t=t[Vn],t instanceof Ft?t:null}var Un="__closure_events_fn_"+(1e9*Math.random()>>>0);function Bn(t){return typeof t=="function"?t:(t[Un]||(t[Un]=function(i){return t.handleEvent(i)}),t[Un])}function W(){_e.call(this),this.i=new Ft(this),this.M=this,this.F=null}P(W,_e),W.prototype[it]=!0,W.prototype.removeEventListener=function(t,i,o,c){Ti(this,t,i,o,c)};function Q(t,i){var o,c=t.F;if(c)for(o=[];c;c=c.F)o.push(c);if(t=t.M,c=i.type||i,typeof i=="string")i=new G(i,t);else if(i instanceof G)i.target=i.target||t;else{var g=i;i=new G(c,t),p(i,g)}if(g=!0,o)for(var I=o.length-1;0<=I;I--){var E=i.g=o[I];g=Ut(E,c,!0,i)&&g}if(E=i.g=t,g=Ut(E,c,!0,i)&&g,g=Ut(E,c,!1,i)&&g,o)for(I=0;I<o.length;I++)E=i.g=o[I],g=Ut(E,c,!1,i)&&g}W.prototype.N=function(){if(W.aa.N.call(this),this.i){var t=this.i,i;for(i in t.g){for(var o=t.g[i],c=0;c<o.length;c++)Mt(o[c]);delete t.g[i],t.h--}}this.F=null},W.prototype.K=function(t,i,o,c){return this.i.add(String(t),i,!1,o,c)},W.prototype.L=function(t,i,o,c){return this.i.add(String(t),i,!0,o,c)};function Ut(t,i,o,c){if(i=t.i.g[String(i)],!i)return!0;i=i.concat();for(var g=!0,I=0;I<i.length;++I){var E=i[I];if(E&&!E.da&&E.capture==o){var N=E.listener,$=E.ha||E.src;E.fa&&On(t.i,E),g=N.call($,c)!==!1&&g}}return g&&!c.defaultPrevented}function bi(t,i,o){if(typeof t=="function")o&&(t=k(t,o));else if(t&&typeof t.handleEvent=="function")t=k(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(i)?-1:v.setTimeout(t,i||0)}function Si(t){t.g=bi(()=>{t.g=null,t.i&&(t.i=!1,Si(t))},t.l);let i=t.h;t.h=null,t.m.apply(null,i)}class ga extends _e{constructor(i,o){super(),this.m=i,this.l=o,this.h=null,this.i=!1,this.g=null}j(i){this.h=arguments,this.g?this.i=!0:Si(this)}N(){super.N(),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function st(t){_e.call(this),this.h=t,this.g={}}P(st,_e);var Ri=[];function Pi(t){Y(t.g,function(i,o){this.g.hasOwnProperty(o)&&Mn(i)},t),t.g={}}st.prototype.N=function(){st.aa.N.call(this),Pi(this)},st.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=v.JSON.stringify,_a=v.JSON.parse,ya=class{stringify(t){return v.JSON.stringify(t,void 0)}parse(t){return v.JSON.parse(t,void 0)}};function $n(){}$n.prototype.h=null;function Ci(t){return t.h||(t.h=t.i())}function Di(){}var ot={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function jn(){G.call(this,"d")}P(jn,G);function zn(){G.call(this,"c")}P(zn,G);var Ce={},ki=null;function Bt(){return ki=ki||new W}Ce.La="serverreachability";function Ni(t){G.call(this,Ce.La,t)}P(Ni,G);function at(t){let i=Bt();Q(i,new Ni(i))}Ce.STAT_EVENT="statevent";function Oi(t,i){G.call(this,Ce.STAT_EVENT,t),this.stat=i}P(Oi,G);function J(t){let i=Bt();Q(i,new Oi(i,t))}Ce.Ma="timingevent";function xi(t,i){G.call(this,Ce.Ma,t),this.size=i}P(xi,G);function ct(t,i){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){t()},i)}function ut(){this.g=!0}ut.prototype.xa=function(){this.g=!1};function Ia(t,i,o,c,g,I){t.info(function(){if(t.g)if(I)for(var E="",N=I.split("&"),$=0;$<N.length;$++){var R=N[$].split("=");if(1<R.length){var K=R[0];R=R[1];var H=K.split("_");E=2<=H.length&&H[1]=="type"?E+(K+"="+R+"&"):E+(K+"=redacted&")}}else E=null;else E=I;return"XMLHTTP REQ ("+c+") [attempt "+g+"]: "+i+`
`+o+`
`+E})}function va(t,i,o,c,g,I,E){t.info(function(){return"XMLHTTP RESP ("+c+") [ attempt "+g+"]: "+i+`
`+o+`
`+I+" "+E})}function Ue(t,i,o,c){t.info(function(){return"XMLHTTP TEXT ("+i+"): "+Ea(t,o)+(c?" "+c:"")})}function wa(t,i){t.info(function(){return"TIMEOUT: "+i})}ut.prototype.info=function(){};function Ea(t,i){if(!t.g)return i;if(!i)return null;try{var o=JSON.parse(i);if(o){for(t=0;t<o.length;t++)if(Array.isArray(o[t])){var c=o[t];if(!(2>c.length)){var g=c[1];if(Array.isArray(g)&&!(1>g.length)){var I=g[0];if(I!="noop"&&I!="stop"&&I!="close")for(var E=1;E<g.length;E++)g[E]=""}}}}return qn(o)}catch{return i}}var qt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function $t(){}P($t,$n),$t.prototype.g=function(){return new XMLHttpRequest},$t.prototype.i=function(){return{}},Gn=new $t;function ye(t,i,o,c){this.j=t,this.i=i,this.l=o,this.R=c||1,this.U=new st(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}var Mi={},Wn={};function Kn(t,i,o){t.L=1,t.v=Wt(de(i)),t.m=o,t.P=!0,Fi(t,null)}function Fi(t,i){t.F=Date.now(),jt(t),t.A=de(t.v);var o=t.A,c=t.R;Array.isArray(c)||(c=[String(c)]),Xi(o.i,"t",c),t.C=0,o=t.j.J,t.h=new Li,t.g=gs(t.j,o?i:null,!t.m),0<t.O&&(t.M=new ga(k(t.Y,t,t.g),t.O)),i=t.U,o=t.g,c=t.ca;var g="readystatechange";Array.isArray(g)||(g&&(Ri[0]=g.toString()),g=Ri);for(var I=0;I<g.length;I++){var E=vi(o,g[I],c||i.handleEvent,!1,i.h||i);if(!E)break;i.g[E.key]=E}i=t.H?l(t.H):{},t.m?(t.u||(t.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,i)):(t.u="GET",t.g.ea(t.A,t.u,null,i)),at(),Ia(t.i,t.u,t.A,t.l,t.R,t.m)}ye.prototype.ca=function(t){t=t.target;let i=this.M;i&&fe(t)==3?i.j():this.Y(t)},ye.prototype.Y=function(t){try{if(t==this.g)e:{let H=fe(this.g);var i=this.g.Ba();let $e=this.g.Z();if(!(3>H)&&(H!=3||this.g&&(this.h.h||this.g.oa()||ss(this.g)))){this.J||H!=4||i==7||(i==8||0>=$e?at(3):at(2)),Hn(this);var o=this.g.Z();this.X=o;t:if(Ui(this)){var c=ss(this.g);t="";var g=c.length,I=fe(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){De(this),lt(this);var E="";break t}this.h.i=new v.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,t+=this.h.i.decode(c[i],{stream:!(I&&i==g-1)});c.length=0,this.h.g+=t,this.C=0,E=this.h.g}else E=this.g.oa();if(this.o=o==200,va(this.i,this.u,this.A,this.l,this.R,H,o),this.o){if(this.T&&!this.K){t:{if(this.g){var N,$=this.g;if((N=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(N)){var R=N;break t}}R=null}if(o=R)Ue(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qn(this,o);else{this.o=!1,this.s=3,J(12),De(this),lt(this);break e}}if(this.P){o=!0;let oe;for(;!this.J&&this.C<E.length;)if(oe=Ta(this,E),oe==Wn){H==4&&(this.s=4,J(14),o=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Mi){this.s=4,J(15),Ue(this.i,this.l,E,"[Invalid Chunk]"),o=!1;break}else Ue(this.i,this.l,oe,null),Qn(this,oe);if(Ui(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),H!=4||E.length!=0||this.h.h||(this.s=1,J(16),o=!1),this.o=this.o&&o,!o)Ue(this.i,this.l,E,"[Invalid Chunked Response]"),De(this),lt(this);else if(0<E.length&&!this.W){this.W=!0;var K=this.j;K.g==this&&K.ba&&!K.M&&(K.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),tr(K),K.M=!0,J(11))}}else Ue(this.i,this.l,E,null),Qn(this,E);H==4&&De(this),this.o&&!this.J&&(H==4?ds(this.j,this):(this.o=!1,jt(this)))}else Ba(this.g),o==400&&0<E.indexOf("Unknown SID")?(this.s=3,J(12)):(this.s=0,J(13)),De(this),lt(this)}}}catch{}finally{}};function Ui(t){return t.g?t.u=="GET"&&t.L!=2&&t.j.Ca:!1}function Ta(t,i){var o=t.C,c=i.indexOf(`
`,o);return c==-1?Wn:(o=Number(i.substring(o,c)),isNaN(o)?Mi:(c+=1,c+o>i.length?Wn:(i=i.slice(c,c+o),t.C=c+o,i)))}ye.prototype.cancel=function(){this.J=!0,De(this)};function jt(t){t.S=Date.now()+t.I,Bi(t,t.I)}function Bi(t,i){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ct(k(t.ba,t),i)}function Hn(t){t.B&&(v.clearTimeout(t.B),t.B=null)}ye.prototype.ba=function(){this.B=null;let t=Date.now();0<=t-this.S?(wa(this.i,this.A),this.L!=2&&(at(),J(17)),De(this),this.s=2,lt(this)):Bi(this,this.S-t)};function lt(t){t.j.G==0||t.J||ds(t.j,t)}function De(t){Hn(t);var i=t.M;i&&typeof i.ma=="function"&&i.ma(),t.M=null,Pi(t.U),t.g&&(i=t.g,t.g=null,i.abort(),i.ma())}function Qn(t,i){try{var o=t.j;if(o.G!=0&&(o.g==t||Jn(o.h,t))){if(!t.K&&Jn(o.h,t)&&o.G==3){try{var c=o.Da.g.parse(i)}catch{c=null}if(Array.isArray(c)&&c.length==3){var g=c;if(g[0]==0){e:if(!o.u){if(o.g)if(o.g.F+3e3<t.F)Yt(o),Qt(o);else break e;er(o),J(18)}}else o.za=g[1],0<o.za-o.T&&37500>g[2]&&o.F&&o.v==0&&!o.C&&(o.C=ct(k(o.Za,o),6e3));if(1>=ji(o.h)&&o.ca){try{o.ca()}catch{}o.ca=void 0}}else Ne(o,11)}else if((t.K||o.g==t)&&Yt(o),!Z(i))for(g=o.Da.g.parse(i),i=0;i<g.length;i++){let R=g[i];if(o.T=R[0],R=R[1],o.G==2)if(R[0]=="c"){o.K=R[1],o.ia=R[2];let K=R[3];K!=null&&(o.la=K,o.j.info("VER="+o.la));let H=R[4];H!=null&&(o.Aa=H,o.j.info("SVER="+o.Aa));let $e=R[5];$e!=null&&typeof $e=="number"&&0<$e&&(c=1.5*$e,o.L=c,o.j.info("backChannelRequestTimeoutMs_="+c)),c=o;let oe=t.g;if(oe){let Zt=oe.g?oe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zt){var I=c.h;I.g||Zt.indexOf("spdy")==-1&&Zt.indexOf("quic")==-1&&Zt.indexOf("h2")==-1||(I.j=I.l,I.g=new Set,I.h&&(Yn(I,I.h),I.h=null))}if(c.D){let nr=oe.g?oe.g.getResponseHeader("X-HTTP-Session-Id"):null;nr&&(c.ya=nr,O(c.I,c.D,nr))}}o.G=3,o.l&&o.l.ua(),o.ba&&(o.R=Date.now()-t.F,o.j.info("Handshake RTT: "+o.R+"ms")),c=o;var E=t;if(c.qa=ms(c,c.J?c.ia:null,c.W),E.K){zi(c.h,E);var N=E,$=c.L;$&&(N.I=$),N.B&&(Hn(N),jt(N)),c.g=E}else ls(c);0<o.i.length&&Jt(o)}else R[0]!="stop"&&R[0]!="close"||Ne(o,7);else o.G==3&&(R[0]=="stop"||R[0]=="close"?R[0]=="stop"?Ne(o,7):Zn(o):R[0]!="noop"&&o.l&&o.l.ta(R),o.v=0)}}at(4)}catch{}}var Aa=class{constructor(t,i){this.g=t,this.map=i}};function qi(t){this.l=t||10,v.PerformanceNavigationTiming?(t=v.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(v.chrome&&v.chrome.loadTimes&&v.chrome.loadTimes()&&v.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $i(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function ji(t){return t.h?1:t.g?t.g.size:0}function Jn(t,i){return t.h?t.h==i:t.g?t.g.has(i):!1}function Yn(t,i){t.g?t.g.add(i):t.h=i}function zi(t,i){t.h&&t.h==i?t.h=null:t.g&&t.g.has(i)&&t.g.delete(i)}qi.prototype.cancel=function(){if(this.i=Gi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let t of this.g.values())t.cancel();this.g.clear()}};function Gi(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let i=t.i;for(let o of t.g.values())i=i.concat(o.D);return i}return M(t.i)}function ba(t){if(t.V&&typeof t.V=="function")return t.V();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(w(t)){for(var i=[],o=t.length,c=0;c<o;c++)i.push(t[c]);return i}i=[],o=0;for(c in t)i[o++]=t[c];return i}function Sa(t){if(t.na&&typeof t.na=="function")return t.na();if(!t.V||typeof t.V!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(w(t)||typeof t=="string"){var i=[];t=t.length;for(var o=0;o<t;o++)i.push(o);return i}i=[],o=0;for(let c in t)i[o++]=c;return i}}}function Wi(t,i){if(t.forEach&&typeof t.forEach=="function")t.forEach(i,void 0);else if(w(t)||typeof t=="string")Array.prototype.forEach.call(t,i,void 0);else for(var o=Sa(t),c=ba(t),g=c.length,I=0;I<g;I++)i.call(void 0,c[I],o&&o[I],t)}var Ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ra(t,i){if(t){t=t.split("&");for(var o=0;o<t.length;o++){var c=t[o].indexOf("="),g=null;if(0<=c){var I=t[o].substring(0,c);g=t[o].substring(c+1)}else I=t[o];i(I,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}function ke(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof ke){this.h=t.h,zt(this,t.j),this.o=t.o,this.g=t.g,Gt(this,t.s),this.l=t.l;var i=t.i,o=new ft;o.i=i.i,i.g&&(o.g=new Map(i.g),o.h=i.h),Hi(this,o),this.m=t.m}else t&&(i=String(t).match(Ki))?(this.h=!1,zt(this,i[1]||"",!0),this.o=ht(i[2]||""),this.g=ht(i[3]||"",!0),Gt(this,i[4]),this.l=ht(i[5]||"",!0),Hi(this,i[6]||"",!0),this.m=ht(i[7]||"")):(this.h=!1,this.i=new ft(null,this.h))}ke.prototype.toString=function(){var t=[],i=this.j;i&&t.push(dt(i,Qi,!0),":");var o=this.g;return(o||i=="file")&&(t.push("//"),(i=this.o)&&t.push(dt(i,Qi,!0),"@"),t.push(encodeURIComponent(String(o)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o=this.s,o!=null&&t.push(":",String(o))),(o=this.l)&&(this.g&&o.charAt(0)!="/"&&t.push("/"),t.push(dt(o,o.charAt(0)=="/"?Da:Ca,!0))),(o=this.i.toString())&&t.push("?",o),(o=this.m)&&t.push("#",dt(o,Na)),t.join("")};function de(t){return new ke(t)}function zt(t,i,o){t.j=o?ht(i,!0):i,t.j&&(t.j=t.j.replace(/:$/,""))}function Gt(t,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);t.s=i}else t.s=null}function Hi(t,i,o){i instanceof ft?(t.i=i,Oa(t.i,t.h)):(o||(i=dt(i,ka)),t.i=new ft(i,t.h))}function O(t,i,o){t.i.set(i,o)}function Wt(t){return O(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ht(t,i){return t?i?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function dt(t,i,o){return typeof t=="string"?(t=encodeURI(t).replace(i,Pa),o&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Pa(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Qi=/[#\/\?@]/g,Ca=/[#\?:]/g,Da=/[#\?]/g,ka=/[#\?@]/g,Na=/#/g;function ft(t,i){this.h=this.g=null,this.i=t||null,this.j=!!i}function Ie(t){t.g||(t.g=new Map,t.h=0,t.i&&Ra(t.i,function(i,o){t.add(decodeURIComponent(i.replace(/\+/g," ")),o)}))}r=ft.prototype,r.add=function(t,i){Ie(this),this.i=null,t=Be(this,t);var o=this.g.get(t);return o||this.g.set(t,o=[]),o.push(i),this.h+=1,this};function Ji(t,i){Ie(t),i=Be(t,i),t.g.has(i)&&(t.i=null,t.h-=t.g.get(i).length,t.g.delete(i))}function Yi(t,i){return Ie(t),i=Be(t,i),t.g.has(i)}r.forEach=function(t,i){Ie(this),this.g.forEach(function(o,c){o.forEach(function(g){t.call(i,g,c,this)},this)},this)},r.na=function(){Ie(this);let t=Array.from(this.g.values()),i=Array.from(this.g.keys()),o=[];for(let c=0;c<i.length;c++){let g=t[c];for(let I=0;I<g.length;I++)o.push(i[c])}return o},r.V=function(t){Ie(this);let i=[];if(typeof t=="string")Yi(this,t)&&(i=i.concat(this.g.get(Be(this,t))));else{t=Array.from(this.g.values());for(let o=0;o<t.length;o++)i=i.concat(t[o])}return i},r.set=function(t,i){return Ie(this),this.i=null,t=Be(this,t),Yi(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[i]),this.h+=1,this},r.get=function(t,i){return t?(t=this.V(t),0<t.length?String(t[0]):i):i};function Xi(t,i,o){Ji(t,i),0<o.length&&(t.i=null,t.g.set(Be(t,i),M(o)),t.h+=o.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";let t=[],i=Array.from(this.g.keys());for(var o=0;o<i.length;o++){var c=i[o];let I=encodeURIComponent(String(c)),E=this.V(c);for(c=0;c<E.length;c++){var g=I;E[c]!==""&&(g+="="+encodeURIComponent(String(E[c]))),t.push(g)}}return this.i=t.join("&")};function Be(t,i){return i=String(i),t.j&&(i=i.toLowerCase()),i}function Oa(t,i){i&&!t.j&&(Ie(t),t.i=null,t.g.forEach(function(o,c){var g=c.toLowerCase();c!=g&&(Ji(this,c),Xi(this,g,o))},t)),t.j=i}function xa(t,i){let o=new ut;if(v.Image){let c=new Image;c.onload=U(ve,o,"TestLoadImage: loaded",!0,i,c),c.onerror=U(ve,o,"TestLoadImage: error",!1,i,c),c.onabort=U(ve,o,"TestLoadImage: abort",!1,i,c),c.ontimeout=U(ve,o,"TestLoadImage: timeout",!1,i,c),v.setTimeout(function(){c.ontimeout&&c.ontimeout()},1e4),c.src=t}else i(!1)}function Va(t,i){let o=new ut,c=new AbortController,g=setTimeout(()=>{c.abort(),ve(o,"TestPingServer: timeout",!1,i)},1e4);fetch(t,{signal:c.signal}).then(I=>{clearTimeout(g),I.ok?ve(o,"TestPingServer: ok",!0,i):ve(o,"TestPingServer: server error",!1,i)}).catch(()=>{clearTimeout(g),ve(o,"TestPingServer: error",!1,i)})}function ve(t,i,o,c,g){try{g&&(g.onload=null,g.onerror=null,g.onabort=null,g.ontimeout=null),c(o)}catch{}}function La(){this.g=new ya}function Ma(t,i,o){let c=o||"";try{Wi(t,function(g,I){let E=g;A(g)&&(E=qn(g)),i.push(c+I+"="+encodeURIComponent(E))})}catch(g){throw i.push(c+"type="+encodeURIComponent("_badmap")),g}}function pt(t){this.l=t.Ub||null,this.j=t.eb||!1}P(pt,$n),pt.prototype.g=function(){return new Kt(this.l,this.j)},pt.prototype.i=function(t){return function(){return t}}({});function Kt(t,i){W.call(this),this.D=t,this.o=i,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Kt,W),r=Kt.prototype,r.open=function(t,i){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=i,this.readyState=1,gt(this)},r.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let i={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(i.body=t),(this.D||v).fetch(new Request(this.A,i)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mt(this)),this.readyState=0},r.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,gt(this)),this.g&&(this.readyState=3,gt(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof v.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Zi(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))};function Zi(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}r.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var i=t.value?t.value:new Uint8Array(0);(i=this.v.decode(i,{stream:!t.done}))&&(this.response=this.responseText+=i)}t.done?mt(this):gt(this),this.readyState==3&&Zi(this)}},r.Ra=function(t){this.g&&(this.response=this.responseText=t,mt(this))},r.Qa=function(t){this.g&&(this.response=t,mt(this))},r.ga=function(){this.g&&mt(this)};function mt(t){t.readyState=4,t.l=null,t.j=null,t.v=null,gt(t)}r.setRequestHeader=function(t,i){this.u.append(t,i)},r.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";let t=[],i=this.h.entries();for(var o=i.next();!o.done;)o=o.value,t.push(o[0]+": "+o[1]),o=i.next();return t.join(`\r
`)};function gt(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});function es(t){let i="";return Y(t,function(o,c){i+=c,i+=":",i+=o,i+=`\r
`}),i}function Xn(t,i,o){e:{for(c in o){var c=!1;break e}c=!0}c||(o=es(o),typeof t=="string"?o!=null&&encodeURIComponent(String(o)):O(t,i,o))}function L(t){W.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(L,W);var Fa=/^https?$/i,Ua=["POST","PUT"];r=L.prototype,r.Ha=function(t){this.J=t},r.ea=function(t,i,o,c){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);i=i?i.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Ci(this.o):Ci(Gn),this.g.onreadystatechange=k(this.Ea,this);try{this.B=!0,this.g.open(i,String(t),!0),this.B=!1}catch(I){ts(this,I);return}if(t=o||"",o=new Map(this.headers),c)if(Object.getPrototypeOf(c)===Object.prototype)for(var g in c)o.set(g,c[g]);else if(typeof c.keys=="function"&&typeof c.get=="function")for(let I of c.keys())o.set(I,c.get(I));else throw Error("Unknown input type for opt_headers: "+String(c));c=Array.from(o.keys()).find(I=>I.toLowerCase()=="content-type"),g=v.FormData&&t instanceof v.FormData,!(0<=Array.prototype.indexOf.call(Ua,i,void 0))||c||g||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[I,E]of o)this.g.setRequestHeader(I,E);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(t),this.u=!1}catch(I){ts(this,I)}};function ts(t,i){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=i,t.m=5,ns(t),Ht(t)}function ns(t){t.A||(t.A=!0,Q(t,"complete"),Q(t,"error"))}r.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,Q(this,"complete"),Q(this,"abort"),Ht(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ht(this,!0)),L.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?rs(this):this.bb())},r.bb=function(){rs(this)};function rs(t){if(t.h&&typeof f<"u"&&(!t.v[1]||fe(t)!=4||t.Z()!=2)){if(t.u&&fe(t)==4)bi(t.Ea,0,t);else if(Q(t,"readystatechange"),fe(t)==4){t.h=!1;try{let E=t.Z();e:switch(E){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var o;if(!(o=i)){var c;if(c=E===0){var g=String(t.D).match(Ki)[1]||null;!g&&v.self&&v.self.location&&(g=v.self.location.protocol.slice(0,-1)),c=!Fa.test(g?g.toLowerCase():"")}o=c}if(o)Q(t,"complete"),Q(t,"success");else{t.m=6;try{var I=2<fe(t)?t.g.statusText:""}catch{I=""}t.l=I+" ["+t.Z()+"]",ns(t)}}finally{Ht(t)}}}}function Ht(t,i){if(t.g){is(t);let o=t.g,c=t.v[0]?()=>{}:null;t.g=null,t.v=null,i||Q(t,"ready");try{o.onreadystatechange=c}catch{}}}function is(t){t.I&&(v.clearTimeout(t.I),t.I=null)}r.isActive=function(){return!!this.g};function fe(t){return t.g?t.g.readyState:0}r.Z=function(){try{return 2<fe(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(t){if(this.g){var i=this.g.responseText;return t&&i.indexOf(t)==0&&(i=i.substring(t.length)),_a(i)}};function ss(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Ba(t){let i={};t=(t.g&&2<=fe(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let c=0;c<t.length;c++){if(Z(t[c]))continue;var o=m(t[c]);let g=o[0];if(o=o[1],typeof o!="string")continue;o=o.trim();let I=i[g]||[];i[g]=I,I.push(o)}_(i,function(c){return c.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _t(t,i,o){return o&&o.internalChannelParams&&o.internalChannelParams[t]||i}function os(t){this.Aa=0,this.i=[],this.j=new ut,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_t("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_t("baseRetryDelayMs",5e3,t),this.cb=_t("retryDelaySeedMs",1e4,t),this.Wa=_t("forwardChannelMaxRetries",2,t),this.wa=_t("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new qi(t&&t.concurrentRequestLimit),this.Da=new La,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=os.prototype,r.la=8,r.G=1,r.connect=function(t,i,o,c){J(0),this.W=t,this.H=i||{},o&&c!==void 0&&(this.H.OSID=o,this.H.OAID=c),this.F=this.X,this.I=ms(this,null,this.W),Jt(this)};function Zn(t){if(as(t),t.G==3){var i=t.U++,o=de(t.I);if(O(o,"SID",t.K),O(o,"RID",i),O(o,"TYPE","terminate"),yt(t,o),i=new ye(t,t.j,i),i.L=2,i.v=Wt(de(o)),o=!1,v.navigator&&v.navigator.sendBeacon)try{o=v.navigator.sendBeacon(i.v.toString(),"")}catch{}!o&&v.Image&&(new Image().src=i.v,o=!0),o||(i.g=gs(i.j,null),i.g.ea(i.v)),i.F=Date.now(),jt(i)}ps(t)}function Qt(t){t.g&&(tr(t),t.g.cancel(),t.g=null)}function as(t){Qt(t),t.u&&(v.clearTimeout(t.u),t.u=null),Yt(t),t.h.cancel(),t.s&&(typeof t.s=="number"&&v.clearTimeout(t.s),t.s=null)}function Jt(t){if(!$i(t.h)&&!t.s){t.s=!0;var i=t.Ga;tt||Ii(),nt||(tt(),nt=!0),Nn.add(i,t),t.B=0}}function qa(t,i){return ji(t.h)>=t.h.j-(t.s?1:0)?!1:t.s?(t.i=i.D.concat(t.i),!0):t.G==1||t.G==2||t.B>=(t.Va?0:t.Wa)?!1:(t.s=ct(k(t.Ga,t,i),fs(t,t.B)),t.B++,!0)}r.Ga=function(t){if(this.s)if(this.s=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;let g=new ye(this,this.j,t),I=this.o;if(this.S&&(I?(I=l(I),p(I,this.S)):I=this.S),this.m!==null||this.O||(g.H=I,I=null),this.P)e:{for(var i=0,o=0;o<this.i.length;o++){t:{var c=this.i[o];if("__data__"in c.map&&(c=c.map.__data__,typeof c=="string")){c=c.length;break t}c=void 0}if(c===void 0)break;if(i+=c,4096<i){i=o;break e}if(i===4096||o===this.i.length-1){i=o+1;break e}}i=1e3}else i=1e3;i=us(this,g,i),o=de(this.I),O(o,"RID",t),O(o,"CVER",22),this.D&&O(o,"X-HTTP-Session-Id",this.D),yt(this,o),I&&(this.O?i="headers="+encodeURIComponent(String(es(I)))+"&"+i:this.m&&Xn(o,this.m,I)),Yn(this.h,g),this.Ua&&O(o,"TYPE","init"),this.P?(O(o,"$req",i),O(o,"SID","null"),g.T=!0,Kn(g,o,null)):Kn(g,o,i),this.G=2}}else this.G==3&&(t?cs(this,t):this.i.length==0||$i(this.h)||cs(this))};function cs(t,i){var o;i?o=i.l:o=t.U++;let c=de(t.I);O(c,"SID",t.K),O(c,"RID",o),O(c,"AID",t.T),yt(t,c),t.m&&t.o&&Xn(c,t.m,t.o),o=new ye(t,t.j,o,t.B+1),t.m===null&&(o.H=t.o),i&&(t.i=i.D.concat(t.i)),i=us(t,o,1e3),o.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),Yn(t.h,o),Kn(o,c,i)}function yt(t,i){t.H&&Y(t.H,function(o,c){O(i,c,o)}),t.l&&Wi({},function(o,c){O(i,c,o)})}function us(t,i,o){o=Math.min(t.i.length,o);var c=t.l?k(t.l.Na,t.l,t):null;e:{var g=t.i;let I=-1;for(;;){let E=["count="+o];I==-1?0<o?(I=g[0].g,E.push("ofs="+I)):I=0:E.push("ofs="+I);let N=!0;for(let $=0;$<o;$++){let R=g[$].g,K=g[$].map;if(R-=I,0>R)I=Math.max(0,g[$].g-100),N=!1;else try{Ma(K,E,"req"+R+"_")}catch{c&&c(K)}}if(N){c=E.join("&");break e}}}return t=t.i.splice(0,o),i.D=t,c}function ls(t){if(!t.g&&!t.u){t.Y=1;var i=t.Fa;tt||Ii(),nt||(tt(),nt=!0),Nn.add(i,t),t.v=0}}function er(t){return t.g||t.u||3<=t.v?!1:(t.Y++,t.u=ct(k(t.Fa,t),fs(t,t.v)),t.v++,!0)}r.Fa=function(){if(this.u=null,hs(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=ct(k(this.ab,this),t)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,J(10),Qt(this),hs(this))};function tr(t){t.A!=null&&(v.clearTimeout(t.A),t.A=null)}function hs(t){t.g=new ye(t,t.j,"rpc",t.Y),t.m===null&&(t.g.H=t.o),t.g.O=0;var i=de(t.qa);O(i,"RID","rpc"),O(i,"SID",t.K),O(i,"AID",t.T),O(i,"CI",t.F?"0":"1"),!t.F&&t.ja&&O(i,"TO",t.ja),O(i,"TYPE","xmlhttp"),yt(t,i),t.m&&t.o&&Xn(i,t.m,t.o),t.L&&(t.g.I=t.L);var o=t.g;t=t.ia,o.L=1,o.v=Wt(de(i)),o.m=null,o.P=!0,Fi(o,t)}r.Za=function(){this.C!=null&&(this.C=null,Qt(this),er(this),J(19))};function Yt(t){t.C!=null&&(v.clearTimeout(t.C),t.C=null)}function ds(t,i){var o=null;if(t.g==i){Yt(t),tr(t),t.g=null;var c=2}else if(Jn(t.h,i))o=i.D,zi(t.h,i),c=1;else return;if(t.G!=0){if(i.o)if(c==1){o=i.m?i.m.length:0,i=Date.now()-i.F;var g=t.B;c=Bt(),Q(c,new xi(c,o)),Jt(t)}else ls(t);else if(g=i.s,g==3||g==0&&0<i.X||!(c==1&&qa(t,i)||c==2&&er(t)))switch(o&&0<o.length&&(i=t.h,i.i=i.i.concat(o)),g){case 1:Ne(t,5);break;case 4:Ne(t,10);break;case 3:Ne(t,6);break;default:Ne(t,2)}}}function fs(t,i){let o=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(o*=2),o*i}function Ne(t,i){if(t.j.info("Error code "+i),i==2){var o=k(t.fb,t),c=t.Xa;let g=!c;c=new ke(c||"//www.google.com/images/cleardot.gif"),v.location&&v.location.protocol=="http"||zt(c,"https"),Wt(c),g?xa(c.toString(),o):Va(c.toString(),o)}else J(2);t.G=0,t.l&&t.l.sa(i),ps(t),as(t)}r.fb=function(t){t?(this.j.info("Successfully pinged google.com"),J(2)):(this.j.info("Failed to ping google.com"),J(1))};function ps(t){if(t.G=0,t.ka=[],t.l){let i=Gi(t.h);(i.length!=0||t.i.length!=0)&&(x(t.ka,i),x(t.ka,t.i),t.h.i.length=0,M(t.i),t.i.length=0),t.l.ra()}}function ms(t,i,o){var c=o instanceof ke?de(o):new ke(o);if(c.g!="")i&&(c.g=i+"."+c.g),Gt(c,c.s);else{var g=v.location;c=g.protocol,i=i?i+"."+g.hostname:g.hostname,g=+g.port;var I=new ke(null);c&&zt(I,c),i&&(I.g=i),g&&Gt(I,g),o&&(I.l=o),c=I}return o=t.D,i=t.ya,o&&i&&O(c,o,i),O(c,"VER",t.la),yt(t,c),c}function gs(t,i,o){if(i&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return i=t.Ca&&!t.pa?new L(new pt({eb:o})):new L(t.pa),i.Ha(t.J),i}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _s(){}r=_s.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xt(){}Xt.prototype.g=function(t,i){return new ee(t,i)};function ee(t,i){W.call(this),this.g=new os(i),this.l=t,this.h=i&&i.messageUrlParams||null,t=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(t?t["X-WebChannel-Content-Type"]=i.messageContentType:t={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.va&&(t?t["X-WebChannel-Client-Profile"]=i.va:t={"X-WebChannel-Client-Profile":i.va}),this.g.S=t,(t=i&&i.Sb)&&!Z(t)&&(this.g.m=t),this.v=i&&i.supportsCrossDomainXhr||!1,this.u=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!Z(i)&&(this.g.D=i,t=this.h,t!==null&&i in t&&(t=this.h,i in t&&delete t[i])),this.j=new qe(this)}P(ee,W),ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ee.prototype.close=function(){Zn(this.g)},ee.prototype.o=function(t){var i=this.g;if(typeof t=="string"){var o={};o.__data__=t,t=o}else this.u&&(o={},o.__data__=qn(t),t=o);i.i.push(new Aa(i.Ya++,t)),i.G==3&&Jt(i)},ee.prototype.N=function(){this.g.l=null,delete this.j,Zn(this.g),delete this.g,ee.aa.N.call(this)};function ys(t){jn.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var i=t.__sm__;if(i){e:{for(let o in i){t=o;break e}t=void 0}(this.i=t)&&(t=this.i,i=i!==null&&t in i?i[t]:void 0),this.data=i}else this.data=t}P(ys,jn);function Is(){zn.call(this),this.status=1}P(Is,zn);function qe(t){this.g=t}P(qe,_s),qe.prototype.ua=function(){Q(this.g,"a")},qe.prototype.ta=function(t){Q(this.g,new ys(t))},qe.prototype.sa=function(t){Q(this.g,new Is)},qe.prototype.ra=function(){Q(this.g,"b")},Xt.prototype.createWebChannel=Xt.prototype.g,ee.prototype.send=ee.prototype.o,ee.prototype.open=ee.prototype.m,ee.prototype.close=ee.prototype.close,Ko=ge.createWebChannelTransport=function(){return new Xt},Wo=ge.getStatEventTarget=function(){return Bt()},Go=ge.Event=Ce,zo=ge.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},qt.NO_ERROR=0,qt.TIMEOUT=8,qt.HTTP_ERROR=6,jo=ge.ErrorCode=qt,Vi.COMPLETE="complete",$o=ge.EventType=Vi,Di.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",W.prototype.listen=W.prototype.K,qo=ge.WebChannel=Di,Bo=ge.FetchXmlHttpFactory=pt,L.prototype.listenOnce=L.prototype.L,L.prototype.getLastError=L.prototype.Ka,L.prototype.getLastErrorCode=L.prototype.Ba,L.prototype.getStatus=L.prototype.Z,L.prototype.getResponseJson=L.prototype.Oa,L.prototype.getResponseText=L.prototype.oa,L.prototype.send=L.prototype.ea,L.prototype.setWithCredentials=L.prototype.Ha,Uo=ge.XhrIo=L}).apply(typeof bn<"u"?bn:typeof self<"u"?self:typeof window<"u"?window:{});var Ho="@firebase/firestore";var q=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};q.UNAUTHENTICATED=new q(null),q.GOOGLE_CREDENTIALS=new q("google-credentials-uid"),q.FIRST_PARTY=new q("first-party-uid"),q.MOCK_USER=new q("mock-user");var Vt="10.13.2";var Ye=new Ee("@firebase/firestore");function te(r,...e){if(Ye.logLevel<=C.DEBUG){let n=e.map(gi);Ye.debug(`Firestore (${Vt}): ${r}`,...n)}}function mi(r,...e){if(Ye.logLevel<=C.ERROR){let n=e.map(gi);Ye.error(`Firestore (${Vt}): ${r}`,...n)}}function Bl(r,...e){if(Ye.logLevel<=C.WARN){let n=e.map(gi);Ye.warn(`Firestore (${Vt}): ${r}`,...n)}}function gi(r){if(typeof r=="string")return r;try{return function(n){return JSON.stringify(n)}(r)}catch{return r}}function X(r="Unexpected state"){let e=`FIRESTORE (${Vt}) INTERNAL ASSERTION FAILED: `+r;throw mi(e),new Error(e)}function xt(r,e){r||X()}var j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},F=class extends ne{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Re=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Sn=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Yr=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(q.UNAUTHENTICATED))}shutdown(){}},Xr=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Zr=class{constructor(e){this.t=e,this.currentUser=q.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i,a=w=>this.i!==s?(s=this.i,n(w)):Promise.resolve(),u=new Re;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Re,e.enqueueRetryable(()=>a(this.currentUser))};let f=()=>{let w=u;e.enqueueRetryable(()=>T(this,null,function*(){yield w.promise,yield a(this.currentUser)}))},v=w=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>v(w)),setTimeout(()=>{if(!this.auth){let w=this.t.getImmediate({optional:!0});w?v(w):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Re)}},0),f()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xt(typeof s.accessToken=="string"),new Sn(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return xt(e===null||typeof e=="string"),new q(e)}},ei=class{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=q.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},ti=class{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new ei(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(q.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ni=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ri=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let s=u=>{u.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);let f=u.token!==this.R;return this.R=u.token,te("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};let a=u=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){let u=this.A.getImmediate({optional:!0});u?a(u):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(xt(typeof n.token=="string"),this.R=n.token,new ni(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function ql(r){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}var ii=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,s="";for(;s.length<20;){let a=ql(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}};function Zo(r,e){return r<e?-1:r>e?1:0}var si=class r{constructor(e,n,s){n===void 0?n=0:n>e.length&&X(),s===void 0?s=e.length-n:s>e.length-n&&X(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return r.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof r?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let s=Math.min(e.length,n.length);for(let a=0;a<s;a++){let u=e.get(a),f=n.get(a);if(u<f)return-1;if(u>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Se=class r extends si{construct(e,n,s){return new r(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let s of e){if(s.indexOf("//")>=0)throw new F(j.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new r(n)}static emptyPath(){return new r([])}};var Fe=class r{constructor(e){this.path=e}static fromPath(e){return new r(Se.fromString(e))}static fromName(e){return new r(Se.fromString(e).popFirst(5))}static empty(){return new r(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new r(new Se(e.slice()))}};var oi=class{constructor(e,n,s,a){this.indexId=e,this.collectionGroup=n,this.fields=s,this.indexState=a}};oi.UNKNOWN_ID=-1;function ea(r){return r.name==="IndexedDbTransactionError"}function $l(r){return r===0&&1/r==-1/0}var jl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wf=[...jl,"documentOverlays"],zl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gl=zl,Wl=[...Gl,"indexConfiguration","indexState","indexEntries"];var Ef=[...Wl,"globals"];var Xe=class r{constructor(e,n){this.comparator=e,this.root=n||ue.EMPTY}insert(e,n){return new r(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ue.BLACK,null,null))}remove(e){return new r(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){let a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){let e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Je(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Je(this.root,e,this.comparator,!1)}getReverseIterator(){return new Je(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Je(this.root,e,this.comparator,!0)}},Je=class{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ue=class r{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??r.RED,this.left=a??r.EMPTY,this.right=u??r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new r(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this,u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return r.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw X();let e=this.left.check();if(e!==this.right.check())throw X();return e+(this.isRed()?0:1)}};ue.EMPTY=null,ue.RED=!0,ue.BLACK=!1;ue.EMPTY=new class{constructor(){this.size=0}get key(){throw X()}get value(){throw X()}get color(){throw X()}get left(){throw X()}get right(){throw X()}copy(e,n,s,a,u){return this}insert(e,n,s){return new ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rn=class r{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){let s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){let a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pn(this.data.getIterator())}getIteratorFrom(e){return new Pn(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof r)||this.size!==e.size)return!1;let n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){let a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new r(this.comparator);return n.data=e,n}},Pn=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var ai=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ze=class r{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ai("Invalid base64 string: "+u):u}}(e);return new r(n)}static fromUint8Array(e){let n=function(a){let u="";for(let f=0;f<a.length;++f)u+=String.fromCharCode(a[f]);return u}(e);return new r(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ze.EMPTY_BYTE_STRING=new Ze("");var Kl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Hl(r){if(xt(!!r),typeof r=="string"){let e=0,n=Kl.exec(r);if(xt(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}let s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ot(r.seconds),nanos:Ot(r.nanos)}}function Ot(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ql(r){return typeof r=="string"?Ze.fromBase64String(r):Ze.fromUint8Array(r)}var ci=class{constructor(e,n,s,a,u,f,v,w,A){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=v,this.longPollingOptions=w,this.useFetchStreams=A}},ui=class r{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new r("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof r&&e.projectId===this.projectId&&e.database===this.database}};function Jl(r){var e,n;return((n=(((e=r?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Yl(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Af=new Xe(Fe.comparator);var bf=new Xe(Fe.comparator);var Sf=new Xe(Fe.comparator),Rf=new Rn(Fe.comparator);var Pf=new Rn(Zo);var Qo,b;(b=Qo||(Qo={}))[b.OK=0]="OK",b[b.CANCELLED=1]="CANCELLED",b[b.UNKNOWN=2]="UNKNOWN",b[b.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",b[b.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",b[b.NOT_FOUND=5]="NOT_FOUND",b[b.ALREADY_EXISTS=6]="ALREADY_EXISTS",b[b.PERMISSION_DENIED=7]="PERMISSION_DENIED",b[b.UNAUTHENTICATED=16]="UNAUTHENTICATED",b[b.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",b[b.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",b[b.ABORTED=10]="ABORTED",b[b.OUT_OF_RANGE=11]="OUT_OF_RANGE",b[b.UNIMPLEMENTED=12]="UNIMPLEMENTED",b[b.INTERNAL=13]="INTERNAL",b[b.UNAVAILABLE=14]="UNAVAILABLE",b[b.DATA_LOSS=15]="DATA_LOSS";var Cf=new Qr([4294967295,4294967295],0);var Cn=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Ot(e.integerValue));else if("doubleValue"in e){let s=Ot(e.doubleValue);isNaN(s)?this.dt(n,13):(this.dt(n,15),$l(s)?n.At(0):n.At(s))}else if("timestampValue"in e){let s=e.timestampValue;this.dt(n,20),typeof s=="string"&&(s=Hl(s)),n.Rt(`${s.seconds||""}`),n.At(s.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Ql(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let s=e.geoPointValue;this.dt(n,45),n.At(s.latitude||0),n.At(s.longitude||0)}else"mapValue"in e?Yl(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Jl(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):X()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let s=e.fields||{};this.dt(n,55);for(let a of Object.keys(s))this.Vt(a,n),this.Tt(s[a],n)}wt(e,n){var s,a;let u=e.fields||{};this.dt(n,53);let f="value",v=((a=(s=u[f].arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.length)||0;this.dt(n,15),n.At(Ot(v)),this.Vt(f,n),this.Tt(u[f],n)}bt(e,n){let s=e.values||[];this.dt(n,50);for(let a of s)this.Tt(a,n)}yt(e,n){this.dt(n,37),Fe.fromName(e).path.forEach(s=>{this.dt(n,60),this.Dt(s,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Cn.vt=new Cn;var Df=new Uint8Array(0);var ce=class r{constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new r(e,r.DEFAULT_COLLECTION_PERCENTILE,r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ce.DEFAULT_COLLECTION_PERCENTILE=10,ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ce.DEFAULT=new ce(41943040,ce.DEFAULT_COLLECTION_PERCENTILE,ce.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ce.DISABLED=new ce(-1,0,0);function Jr(){return typeof document<"u"?document:null}var li=class{constructor(e,n,s=1e3,a=1.5,u=6e4){this.ui=e,this.timerId=n,this.ko=s,this.qo=a,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),a=Math.max(0,n-s);a>0&&te("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var hi=class r{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new Re,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){let f=Date.now()+s,v=new r(e,n,f,a,u);return v.start(s),v}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new F(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function Xl(r,e){if(mi("AsyncQueue",`${e}: ${r}`),ea(r))return new F(j.UNAVAILABLE,`${e}: ${r}`);throw r}var Jo,Yo;(Yo=Jo||(Jo={})).ea="default",Yo.Cache="cache";var di=class{constructor(e,n,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=q.UNAUTHENTICATED,this.clientId=ii.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,u=>T(this,null,function*(){te("FirestoreClient","Received user=",u.uid),yield this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(s,u=>(te("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new F(j.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Re;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>T(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let s=Xl(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}};function ta(r){let e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}var Xo=new Map;function Zl(r,e,n,s){if(e===!0&&s===!0)throw new F(j.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function eh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{let e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":X()}function th(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new F(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=eh(r);throw new F(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}var Dn=class{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new F(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new F(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Zl("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ta((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new F(j.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},kn=class{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dn({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new F(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new F(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dn(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Yr;switch(s.type){case"firstParty":return new ti(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new F(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let s=Xo.get(n);s&&(te("ComponentProvider","Removing Datastore"),Xo.delete(n),s.terminate())}(this),Promise.resolve()}};function na(r,e,n,s={}){var a;let u=(r=th(r,kn))._getSettings(),f=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==f&&Bl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:f,ssl:!1})),s.mockUserToken){let v,w;if(typeof s.mockUserToken=="string")v=s.mockUserToken,w=q.MOCK_USER;else{v=Hs(s.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);let A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new F(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new q(A)}r._authCredentials=new Xr(new Sn(v,w))}}var fi=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new li(this,"async_queue_retry"),this.Eu=()=>{let n=Jr();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Jr();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Jr();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Re;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return T(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!ea(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(s=>{this.hu=s,this.Pu=!1;let a=function(f){let v=f.message||"";return f.stack&&(v=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),v}(s);throw mi("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Pu=!1,s))));return this.au=n,n}enqueueAfterDelay(e,n,s){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let a=hi.createAndSchedule(this,e,n,s,u=>this.Vu(u));return this.lu.push(a),a}du(){this.hu&&X()}verifyOperationInProgress(){}mu(){return T(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var pi=class extends kn{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=function(){return new fi}(),this._persistenceKey=a?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||nh(this),this._firestoreClient.terminate()}};function ra(r,e){let n=typeof r=="object"?r:Et(),s=typeof r=="string"?r:e||"(default)",a=Dr(n,"firestore").getImmediate({identifier:s});if(!a._initialized){let u=Ws("firestore");u&&na(a,...u)}return a}function nh(r){var e,n,s;let a=r._freezeSettings(),u=function(v,w,A,S){return new ci(v,w,A,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,ta(S.experimentalLongPollingOptions),S.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._firestoreClient=new di(r._authCredentials,r._appCheckCredentials,r._queue,u),!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._firestoreClient._uninitializedComponentsProvider={_offlineKind:a.localCache.kind,_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider})}var kf=new RegExp("[~\\*/\\[\\]]");(function(e,n=!0){(function(a){Vt=a})(Ke),Ae(new ie("firestore",(s,{instanceIdentifier:a,options:u})=>{let f=s.getProvider("app").getImmediate(),v=new pi(new Zr(s.getProvider("auth-internal")),new ri(s.getProvider("app-check-internal")),function(A,S){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new F(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ui(A.options.projectId,S)}(f,a),f);return u=Object.assign({useFetchStreams:n},u),v._setSettings(u),v},"PUBLIC").setMultipleInstances(!0)),B(Ho,"4.7.2",e),B(Ho,"4.7.2","esm2017")})();var Lt=class{constructor(e){return e}},ia="firestore",_i=class{constructor(){return At(ia)}};var yi=new tn("angularfire2.firestore-instances");function rh(r,e){let n=Or(ia,r,e);return n&&new Lt(n)}function ih(r){return(e,n)=>{let s=e.runOutsideAngular(()=>r(n));return new Lt(s)}}var sh={provide:_i,deps:[[new we,yi]]},oh={provide:Lt,useFactory:rh,deps:[[new we,yi],Ve]};function sa(r,...e){return B("angularfire",Qe.full,"fst"),sn([oh,sh,{provide:yi,useFactory:ih(r),multi:!0,deps:[je,on,bt,Rt,[new we,An],[new we,Tt],...e]}])}var oa=St(ra,!0);var aa=(()=>{class r{static{this.\u0275fac=function(s){return new(s||r)}}static{this.\u0275mod=rn({type:r,bootstrap:[qs]})}static{this.\u0275inj=en({providers:[go(()=>_o({projectId:"blogadmin-ef12c",appId:"1:709759401901:web:6512f617f383f172f02b24",storageBucket:"blogadmin-ef12c.appspot.com",apiKey:"AIzaSyBcpUvRsBqLqWwEovj3gXX48jsAbZ0HROk",authDomain:"blogadmin-ef12c.firebaseapp.com",messagingSenderId:"709759401901"})),sa(()=>oa())],imports:[Vs,Bs,Ms]})}}return r})();xs().bootstrapModule(aa).catch(r=>console.error(r));
